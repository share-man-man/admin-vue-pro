import{g as t,P as e,a}from"./Content.0d71ca3d.js";import{A as i}from"./index.396e6931.js";import{B as l}from"./index.bf116e58.js";import{C as r}from"./index.bcd08af7.js";import{R as o,C as s}from"./index.f18c0985.js";import{L as n}from"./index.bec2790f.js";import{S as d}from"./index.3ca1d7b5.js";import{A as p}from"./index.da5a312a.js";import{d as u,i as c,j as m,G as f,A as v,k as h,l as y,y as g,F as j}from"./vendor.d7feebf9.js";import{g as x,d as b,_,a as w,f as A,t as C,l as k,b as F,i as O,c as T,e as D,h as I,p as P,s as z,j as E,k as N,m as S,n as L,U as M,o as R,T as U,r as B,A as G,q as X,u as q,P as H,v as J,w as K}from"./workspace.0a4a7fda.js";import{P as Q}from"./index.de35a10b.js";import"./toNumber.5775a339.js";import"./wave.ccb9ab60.js";import"./Event.c36f22c9.js";import"./raf.edade736.js";import"./LoadingOutlined.926f7c5c.js";import"./Col.b85f2d2f.js";import"./index.9563d230.js";import"./index.43b65888.js";import"./debounce.284ffcec.js";import"./initDefaultProps.f4792837.js";import"./index.eb409cea.js";import"./SearchOutlined.698c58ba.js";import"./Trigger.c296f716.js";import"./identity.d1328b1c.js";import"./_Uint8Array.b94435ea.js";import"./CloseCircleFilled.411ac2a4.js";import"./CheckOutlined.dd11a829.js";import"./_baseProperty.74f89655.js";import"./toInteger.3f41bba0.js";import"./index.689c294d.js";import"./dropdown.a4bd35d8.js";import"./EllipsisOutlined.aff4ca99.js";import"./index.6e873003.js";import"./isMobile.69f1a0da.js";import"./colors.ce005b5d.js";import"./transButton.cda24ec6.js";import"./oauth.646ef414.js";import"./index.02e8fda9.js";import"./createChainedFunction.2d5d7d53.js";import"./ExclamationCircleFilled.d25e78d8.js";import"./CloseCircleOutlined.17243ee6.js";import"./InfoCircleOutlined.6283f567.js";import"./code.aa7872b2.js";import"./index.ad121f42.js";var V=u({setup:(e,{slots:a})=>()=>c("div",{class:"av-header-wrap"},[c("div",{class:"av-header-wrap-content"},[t(a,"content")]),c("div",{class:"av-header-wrap-extra"},[m(" "),t(a,"extra")])])});var W="_page-header-content_rv028_1",Y="_avatar_rv028_4",Z="_content_rv028_13",$="_content-title_rv028_21",tt="_extra-content_rv028_28",et="_stat-item_rv028_44",at="_project-list_rv028_80",it="_card-title_rv028_80",lt="_card-description_rv028_95",rt="_project-item_rv028_101",ot="_datetime_rv028_117",st="_item-group_rv028_128",nt="_members_rv028_139",dt="_member_rv028_139",pt="_project-card-grid_rv028_158",ut="_welcome-text_rv028_166";function ct(t){var e=t.chart,a=t.options,i=a.data,l=a.lineStyle,r=a.color,o=a.point,s=a.area,n=null==o?void 0:o.state;e.data(i);var d=b({},t,{options:{line:{style:l,color:r},point:o?_({color:r},o):o,area:s?_({color:r},s):s,label:void 0}}),p=b({},d,{options:{tooltip:!1}}),u=b({},d,{options:{tooltip:!1,state:n}});return I(d),P(u),function(t){var e=t.options,a=e.area,i=e.xField,l=e.yField,r=e.seriesField,o=e.smooth,s=e.tooltip,n=w(s,[i,l,r]),d=n.fields,p=n.formatter;a&&x(b({},t,{options:{type:"area",colorField:r,tooltipFields:d,mapping:_({shape:o?"smooth":"area",tooltip:p},a)}}))}(p),t}function mt(t){var e,a=t.options,i=a.xAxis,l=a.yAxis,r=a.xField,o=a.yField;return A(z(((e={})[r]=i,e[o]=l,e)))(t)}function ft(t){var e=t.chart,a=t.options,i=a.radius,l=a.startAngle,r=a.endAngle;return e.coordinate("polar",{radius:i,startAngle:l,endAngle:r}),t}function vt(t){var e=t.chart,a=t.options,i=a.xField,l=a.xAxis,r=a.yField,o=a.yAxis;return e.axis(i,l),e.axis(r,o),t}function ht(t){var e=t.chart,a=t.options,i=a.label,l=a.yField,r=E(e,"line");if(i){var o=i.callback,s=N(i,["callback"]);r.label({fields:[l],callback:o,cfg:S(s)})}else r.label(!1);return t}function yt(t){return A(ct,mt,C,ft,vt,k,F,ht,O,T,D())(t)}B("radar-tooltip",function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return L(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"radar-tooltip"},enumerable:!1,configurable:!0}),e.prototype.getTooltipItems=function(e){var a=this.getTooltipCfg(),i=a.shared,l=a.title,r=t.prototype.getTooltipItems.call(this,e);if(r.length>0){var o=this.view.geometries[0],s=o.dataArray,n=r[0].name,d=[];return s.forEach((function(t){t.forEach((function(t){var e=M.getTooltipItems(t,o)[0];if(!i&&e&&e.name===n){var a=R(l)?n:l;d.push(_(_({},e),{name:e.title,title:a}))}else if(i&&e){a=R(l)?e.name||n:l;d.push(_(_({},e),{name:e.title,title:a}))}}))})),d}return[]},e}(U)),X("radar-tooltip",function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return L(e,t),e.prototype.init=function(){this.context.view.removeInteraction("tooltip")},e.prototype.show=function(){var t=this.context.event;this.getTooltipController().showTooltip({x:t.x,y:t.y})},e.prototype.hide=function(){this.getTooltipController().hideTooltip()},e.prototype.getTooltipController=function(){return this.context.view.getController("radar-tooltip")},e}(G)),q("radar-tooltip",{start:[{trigger:"plot:mousemove",action:"radar-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"radar-tooltip:hide"}]});var gt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="radar",e}return L(e,t),e.prototype.changeData=function(t){this.updateOption({data:t}),this.chart.changeData(t)},e.prototype.getDefaultOptions=function(){return b({},t.prototype.getDefaultOptions.call(this),{xAxis:{label:{offset:15},grid:{line:{type:"line"}}},yAxis:{grid:{line:{type:"circle"}}},legend:{position:"top"},tooltip:{shared:!0,showCrosshairs:!0,showMarkers:!0,crosshairs:{type:"xy",line:{style:{stroke:"#565656",lineDash:[4]}},follow:!0}}})},e.prototype.getSchemaAdaptor=function(){return yt},e}(H),jt=u({props:{data:{type:Array,default:()=>[]}},setup(t){let e;const a={data:t.data,xField:"item",yField:"score",seriesField:"user",meta:{score:{alias:"分数",min:0,max:80}},xAxis:{line:null,tickLine:null,grid:{line:{style:{lineDash:null}}}},yAxis:{line:null,tickLine:null,grid:{line:{type:"line",style:{lineDash:null}}}},point:{size:2}};return f((()=>{e=new gt("radarContainer",a),e.render()})),v(t.data,(t=>{e.changeData(t)})),()=>c("div",{id:"radarContainer"},null)}});function xt(t){return"function"==typeof t||"[object Object]"===Object.prototype.toString.call(t)&&!g(t)}var bt=u({setup(){const t=h(!1),u=h(!1),v=h([]),g=h([]),x=h([]),b=y({avatar:"",name:""}),_=h([]),w=h({projectNum:0,teamRank:0,visitNum:0}),A=()=>c("div",{class:W},[c("div",{class:Y},[c(i,{size:"large",src:b.avatar},null)]),c("div",{class:Z},[c("div",{class:$},[m("早安，"),b.name,c("span",{class:ut},[m("，今天又是搬砖的一天")])]),c("div",null,[m("全栈工程师 | 板砖技术部 - 某某某事业群 - 前端平台")])])]),C=()=>c("div",{class:tt},[c("div",{class:et},[c(d,{title:"项目数",value:w.value.projectNum},null)]),c("div",{class:et},[c(d,{title:"团队内排名",value:w.value.teamRank,suffix:"/ 24"},null)]),c("div",{class:et},[c(d,{title:"项目访问",value:w.value.visitNum},null)])]);return f((()=>{(async()=>{const{currentUser:t,projects:e,activities:a,teams:i,statistic:l}=await J();b.avatar=t.avatar,b.name=t.name,v.value.push(...e),g.value.push(...a),x.value.push(...i),w.value=l;const r=await K();_.value.splice(0,_.value.length,...r)})()})),()=>{let d,f;return c(j,null,[c(e,null,{default:()=>[c(p,{title:"工作台"},{default:()=>[c(V,null,{content:A,extra:C})]})]}),c(a,null,{default:()=>[c(o,{gutter:24},{default:()=>[c(s,{xl:16,lg:24,md:24,sm:24,xs:24},{default:()=>[c(r,{class:at,loading:t.value,style:"margin-bottom: 22px;",bordered:!1,title:"所有项目","body-style":{padding:0},extra:c("a",null,[m("其他")])},{default:()=>[c("div",null,[v.value.map((t=>c(r.Grid,{class:pt,key:t.id},{default:()=>[c(r,{bordered:!1,"body-style":{padding:0}},{default:()=>[c(r.Meta,null,{title:()=>c("div",{class:it},[c(i,{size:"small",src:t.cover},null),c("a",null,[t.title])]),description:()=>c("div",{class:lt},[t.description])}),c("div",{class:rt},[c("a",{href:"/#/"},[m("科学搬砖组")]),c("span",{class:ot},[m("9小时前")])])]})]})))])]}),c(r,{loading:t.value,title:"动态",bordered:!1},{default:()=>[c(n,null,xt(d=g.value.map((t=>c(n.Item,{key:t.id},{default:()=>[c(n.Item.Meta,{avatar:c(i,{src:t.avatar},null)},{title:()=>c("div",null,[c("span",null,[t.nickname]),m("  在 "),c("a",{href:"#"},[t.project]),m(" "),c("span",null,[t.action]),m(" "),c("a",{href:"#"},[t.event])]),description:()=>c("div",null,[t.time])})]}))))?d:{default:()=>[d]})]})]}),c(s,{style:"padding: 0 12px",xl:8,lg:24,md:24,sm:24,xs:24},{default:()=>[c(r,{title:"快速开始 / 便捷导航",style:"margin-bottom: 24px",bordered:!1,"body-style":{padding:0}},{default:()=>[c("div",{class:st},[c("a",null,[m("操作一")]),c("a",null,[m("操作二")]),c("a",null,[m("操作三")]),c("a",null,[m("操作四")]),c("a",null,[m("操作五")]),c("a",null,[m("操作六")]),c(l,{size:"small",type:"primary",ghost:!0,icon:c(Q,null,null)},{default:()=>[m("添加")]})])]}),c(r,{title:"XX 指数",style:"margin-bottom: 24px",loading:u.value,bordered:!1,"body-style":{padding:0}},{default:()=>[c("div",{style:"min-height: 400px;"},[c(jt,{data:_.value},null)])]}),c(r,{loading:t.value,title:"团队",bordered:!1},{default:()=>[c("div",{class:nt},[c(o,null,xt(f=x.value.map((t=>c(s,{key:t.id,span:12},{default:()=>[c("a",null,[c(i,{size:"small",src:t.avatar},null),c("span",{class:dt},[t.name])])]}))))?f:{default:()=>[f]})])]})]})]})]})])}}});export default bt;

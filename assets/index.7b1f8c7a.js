import{t,c as e,J as r,d as n,$ as o,z as u,A as i,G as f,V as a,aJ as c,aK as s}from"./index.c93545fe.js";import{f as l,g as d}from"./SearchOutlined.423d221a.js";import{b as p}from"./index.f1afb5df.js";import{b as v}from"./_baseProperty.74f89655.js";var m=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");function b(t){return m.test(t)}var y="[\\ud800-\\udfff]",h="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",g="\\ud83c[\\udffb-\\udfff]",O="[^\\ud800-\\udfff]",j="(?:\\ud83c[\\udde6-\\uddff]){2}",w="[\\ud800-\\udbff][\\udc00-\\udfff]",S="(?:"+h+"|"+g+")"+"?",P="[\\ufe0e\\ufe0f]?"+S+("(?:\\u200d(?:"+[O,j,w].join("|")+")[\\ufe0e\\ufe0f]?"+S+")*"),x="(?:"+[O+h+"?",h,j,w,y].join("|")+")",C=RegExp(g+"(?="+g+")|"+x+P,"g");function D(t){return b(t)?function(t){return t.match(C)||[]}(t):function(t){return t.split("")}(t)}var I=Math.floor;function $(t,e){var r="";if(!t||e<1||e>9007199254740991)return r;do{e%2&&(r+=t),(e=I(e/2))&&(t+=t)}while(e);return r}var T=v("length"),A="[\\ud800-\\udfff]",E="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",R="\\ud83c[\\udffb-\\udfff]",M="[^\\ud800-\\udfff]",N="(?:\\ud83c[\\udde6-\\uddff]){2}",H="[\\ud800-\\udbff][\\udc00-\\udfff]",k="(?:"+E+"|"+R+")"+"?",V="[\\ufe0e\\ufe0f]?"+k+("(?:\\u200d(?:"+[M,N,H].join("|")+")[\\ufe0e\\ufe0f]?"+k+")*"),U="(?:"+[M+E+"?",E,N,H,A].join("|")+")",J=RegExp(R+"(?="+R+")|"+U+V,"g");function z(t){return b(t)?function(t){for(var e=J.lastIndex=0;J.test(t);)++e;return e}(t):T(t)}var B=Math.ceil;function F(t,e){var r=(e=void 0===e?" ":l(e)).length;if(r<2)return r?$(e,t):e;var n=$(e,B(t/z(e)));return b(e)?function(t,e,r){var n=t.length;return r=void 0===r?n:r,!e&&r>=n?t:p(t,e,r)}(D(n),0,t).join(""):n.slice(0,t)}function G(t){return"function"==typeof t||"[object Object]"===Object.prototype.toString.call(t)&&!r(t)}var K=function(r){var n,o=r.value,u=r.formatter,i=r.precision,f=r.decimalSeparator,a=r.groupSeparator,c=void 0===a?"":a,s=r.prefixCls;if("function"==typeof u)n=u({value:o});else{var l=String(o),p=l.match(/^(-?)(\d*)(\.(\d+))?$/);if(p){var v=p[1],m=p[2]||"0",b=p[4]||"";m=m.replace(/\B(?=(\d{3})+(?!\d))/g,c),"number"==typeof i&&(b=function(e,r,n){e=d(e);var o=(r=t(r))?z(e):0;return r&&o<r?e+F(r-o,n):e}(b,i,"0").slice(0,i)),b&&(b="".concat(f).concat(b)),n=[e("span",{key:"int",class:"".concat(s,"-content-value-int")},[v,m]),b&&e("span",{key:"decimal",class:"".concat(s,"-content-value-decimal")},G(b)?b:{default:function(){return[b]}})]}else n=l}return e("span",{class:"".concat(s,"-content-value")},G(n)?n:{default:function(){return[n]}})};function Y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function _(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function q(){return(q=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function L(t){return"function"==typeof t||"[object Object]"===Object.prototype.toString.call(t)&&!r(t)}K.displayName="StatisticNumber";var Q={prefixCls:a.string,decimalSeparator:a.string,groupSeparator:a.string,format:a.string,value:{type:[String,Number,Object]},valueStyle:a.style,valueRender:a.any,formatter:a.any,precision:a.number,prefix:a.VNodeChild,suffix:a.VNodeChild,title:a.VNodeChild,onFinish:a.func},W=n({name:"AStatistic",props:o(Q,{decimalSeparator:".",groupSeparator:","}),setup:function(){return{configProvider:u("configProvider",i)}},render:function(){var t=this.$props,r=t.prefixCls,n=t.value,o=void 0===n?0:n,u=t.valueStyle,i=t.valueRender,a=(0,this.configProvider.getPrefixCls)("statistic",r),c=f(this,"title"),s=f(this,"prefix"),l=f(this,"suffix"),d=f(this,"formatter",{},!1),p=q(q({},this.$props),{prefixCls:a,value:o,formatter:d}),v=e(K,function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Y(Object(r),!0).forEach((function(e){_(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({"data-for-update":Date.now()},p),null);return i&&(v=i(v)),e("div",{class:a},[c&&e("div",{class:"".concat(a,"-title")},L(c)?c:{default:function(){return[c]}}),e("div",{style:u,class:"".concat(a,"-content")},[s&&e("span",{class:"".concat(a,"-content-prefix")},L(s)?s:{default:function(){return[s]}}),v,l&&e("span",{class:"".concat(a,"-content-suffix")},L(l)?l:{default:function(){return[l]}})])])}});function X(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var i,f=t[Symbol.iterator]();!(n=(i=f.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(a){o=!0,u=a}finally{try{n||null==f.return||f.return()}finally{if(o)throw u}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Z(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var tt=[["Y",31536e6],["M",2592e6],["D",864e5],["H",36e5],["m",6e4],["s",1e3],["S",1]];function et(e,r){var n=e,o=/\[[^\]]*\]/g,u=(r.match(o)||[]).map((function(t){return t.slice(1,-1)})),i=r.replace(o,"[]"),f=tt.reduce((function(e,r){var o=X(r,2),u=o[0],i=o[1];if(-1!==e.indexOf(u)){var f=Math.floor(n/i);return n-=f*i,e.replace(new RegExp("".concat(u,"+"),"g"),(function(e){var r=e.length;return function(e,r,n){e=d(e);var o=(r=t(r))?z(e):0;return r&&o<r?F(r-o,n)+e:e}(f.toString(),r,"0")}))}return e}),i),a=0;return f.replace(o,(function(){var t=u[a];return a+=1,t}))}function rt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function nt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ot(){return(ot=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function ut(t){return c(s)(t).valueOf()}var it=n({name:"AStatisticCountdown",props:o(Q,{format:"HH:mm:ss"}),setup:function(){return{countdownId:void 0}},mounted:function(){this.syncTimer()},updated:function(){this.syncTimer()},beforeUnmount:function(){this.stopTimer()},methods:{syncTimer:function(){ut(this.$props.value)>=Date.now()?this.startTimer():this.stopTimer()},startTimer:function(){var t=this;this.countdownId||(this.countdownId=window.setInterval((function(){t.$refs.statistic.$forceUpdate(),t.syncTimer()}),33.333333333333336))},stopTimer:function(){var t=this.$props.value;this.countdownId&&(clearInterval(this.countdownId),this.countdownId=void 0,ut(t)<Date.now()&&this.$emit("finish"))},formatCountdown:function(t){var e=t.value,r=t.config,n=this.$props.format;return function(t,e){var r=e.format,n=void 0===r?"":r,o=c(s)(t).valueOf(),u=c(s)().valueOf();return et(Math.max(o-u,0),n)}(e,ot(ot({},r),{format:n}))},valueRenderHtml:function(t){return t}},render:function(){return e(W,function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?rt(Object(r),!0).forEach((function(e){nt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({ref:"statistic"},ot(ot({},this.$props),{valueRender:this.valueRenderHtml,formatter:this.formatCountdown})),null)}});W.Countdown=it,W.install=function(t){return t.component(W.name,W),t.component(W.Countdown.name,W.Countdown),t};export{W as S};

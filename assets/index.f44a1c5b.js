import{B as F,P as t,E as I,p as V,s as U,d as a,y as q,_ as x,o as H,F as N,x as C,j as T,t as W,G as J,C as K}from"./debounce.63695ae7.js";import{i as L}from"./initDefaultProps.5e2544d9.js";import{d as $,a as o,k as Q}from"./index.e1409c94.js";import{C as X}from"./CheckOutlined.de965fe7.js";function M(){if(typeof window!="undefined"&&window.document&&window.document.documentElement){var n=window.document.documentElement;return"flex"in n.style||"webkitFlex"in n.style||"Flex"in n.style||"msFlex"in n.style}return!1}var z=$({name:"Steps",mixins:[F],props:{type:t.string.def("default"),prefixCls:t.string.def("rc-steps"),iconPrefix:t.string.def("rc"),direction:t.string.def("horizontal"),labelPlacement:t.string.def("horizontal"),status:t.string.def("process"),size:t.string.def(""),progressDot:I(t.oneOfType([t.looseBool,t.func])),initial:t.number.def(0),current:t.number.def(0),icons:t.shape({finish:t.any,error:t.any}).loose,canClick:t.looseBool},data:function(){return this.calcStepOffsetWidth=V(this.calcStepOffsetWidth,150),{flexSupported:!0,lastStepOffsetWidth:0}},mounted:function(){var e=this;this.$nextTick(function(){e.calcStepOffsetWidth(),M()||e.setState({flexSupported:!1})})},updated:function(){var e=this;this.$nextTick(function(){e.calcStepOffsetWidth()})},beforeUnmount:function(){this.calcTimeout&&clearTimeout(this.calcTimeout),this.calcStepOffsetWidth&&this.calcStepOffsetWidth.cancel&&this.calcStepOffsetWidth.cancel()},methods:{onStepClick:function(e){var s=this.$props.current;s!==e&&this.__emit("change",e)},calcStepOffsetWidth:function(){var e=this;if(!M()){var s=this.$data.lastStepOffsetWidth,i=this.$refs.vcStepsRef;i.children.length>0&&(this.calcTimeout&&clearTimeout(this.calcTimeout),this.calcTimeout=setTimeout(function(){var l=(i.lastChild.offsetWidth||0)+1;s===l||Math.abs(s-l)<=3||e.setState({lastStepOffsetWidth:l})}))}}},render:function(){var e,s=this,i=this.prefixCls,l=this.direction,f=this.type,p=this.labelPlacement,c=this.iconPrefix,m=this.status,r=this.size,u=this.current,g=this.progressDot,d=this.initial,y=this.icons,S=this.canClick,O=f==="navigation",w=this.lastStepOffsetWidth,_=this.flexSupported,b=U(this),v=b.length-1,A=g?"vertical":p,E=(e={},a(e,i,!0),a(e,"".concat(i,"-").concat(l),!0),a(e,"".concat(i,"-").concat(r),r),a(e,"".concat(i,"-label-").concat(A),l==="horizontal"),a(e,"".concat(i,"-dot"),!!g),a(e,"".concat(i,"-navigation"),O),a(e,"".concat(i,"-flex-not-supported"),!_),e),G={class:E,ref:"vcStepsRef"};return o("div",G,[b.map(function(j,D){var B=q(j),k=d+D,h=x({stepNumber:"".concat(k+1),stepIndex:k,prefixCls:i,iconPrefix:c,progressDot:g,icons:y},B);return S&&(h.onStepClick=s.onStepClick),!_&&l!=="vertical"&&(O?(h.itemWidth="".concat(100/(v+1),"%"),h.adjustMarginRight=0):D!==v&&(h.itemWidth="".concat(100/v,"%"),h.adjustMarginRight="".concat(-Math.round(w/v+1),"px"))),m==="error"&&D===u-1&&(h.class="".concat(i,"-next-error")),B.status||(k===u?h.status=m:k<u?h.status="finish":h.status="wait"),h.active=k===u,H(j,h)})])}});function R(n){return typeof n=="string"}function Y(){}var Z=$({name:"Step",mixins:[F],props:{prefixCls:t.string,wrapperStyle:t.object,itemWidth:t.string,active:t.looseBool,disabled:t.looseBool,status:t.string,iconPrefix:t.string,icon:t.any,adjustMarginRight:t.string,stepNumber:t.string,stepIndex:t.number,description:t.any,title:t.any,subTitle:t.any,progressDot:I(t.oneOfType([t.looseBool,t.func])),tailContent:t.any,icons:t.shape({finish:t.any,error:t.any}).loose,onClick:t.func,onStepClick:t.func},methods:{onItemClick:function(){for(var e=arguments.length,s=new Array(e),i=0;i<e;i++)s[i]=arguments[i];this.__emit.apply(this,["click"].concat(s)),this.__emit("stepClick",this.stepIndex)},renderIconNode:function(){var e,s=N(this),i=s.prefixCls,l=s.stepNumber,f=s.status,p=s.iconPrefix,c=s.icons,m=s.progressDot,r=C(this,"icon"),u=C(this,"title"),g=C(this,"description"),d,y=(e={},a(e,"".concat(i,"-icon"),!0),a(e,"".concat(p,"icon"),!0),a(e,"".concat(p,"icon-").concat(r),r&&R(r)),a(e,"".concat(p,"icon-check"),!r&&f==="finish"&&c&&!c.finish),a(e,"".concat(p,"icon-close"),!r&&f==="error"&&c&&!c.error),e),S=o("span",{class:"".concat(i,"-icon-dot")},null);return m?typeof m=="function"?d=o("span",{class:"".concat(i,"-icon")},[m({index:l-1,status:f,title:u,description:g,prefixCls:i})]):d=o("span",{class:"".concat(i,"-icon")},[S]):r&&!R(r)?d=o("span",{class:"".concat(i,"-icon")},[r]):c&&c.finish&&f==="finish"?d=o("span",{class:"".concat(i,"-icon")},[c.finish]):c&&c.error&&f==="error"?d=o("span",{class:"".concat(i,"-icon")},[c.error]):r||f==="finish"||f==="error"?d=o("span",{class:y},null):d=o("span",{class:"".concat(i,"-icon")},[l]),d}},render:function(){var e,s=N(this),i=s.prefixCls,l=s.itemWidth,f=s.active,p=s.status,c=p===void 0?"wait":p,m=s.tailContent,r=s.adjustMarginRight,u=s.disabled,g=s.onClick,d=s.onStepClick,y=C(this,"title"),S=C(this,"subTitle"),O=C(this,"description"),w=(e={},a(e,"".concat(i,"-item"),!0),a(e,"".concat(i,"-item-").concat(c),!0),a(e,"".concat(i,"-item-custom"),C(this,"icon")),a(e,"".concat(i,"-item-active"),f),a(e,"".concat(i,"-item-disabled"),u===!0),e),_={class:w},b={};l&&(b.width=l),r&&(b.marginRight=r);var v={onClick:g||Y};return d&&!u&&(v.role="button",v.tabindex=0,v.onClick=this.onItemClick),o("div",T(T({},_),{},{style:b}),[o("div",T(T({},v),{},{class:"".concat(i,"-item-container")}),[o("div",{class:"".concat(i,"-item-tail")},[m]),o("div",{class:"".concat(i,"-item-icon")},[this.renderIconNode()]),o("div",{class:"".concat(i,"-item-content")},[o("div",{class:"".concat(i,"-item-title")},[y,S&&o("div",{title:S,class:"".concat(i,"-item-subtitle")},[S])]),O&&o("div",{class:"".concat(i,"-item-description")},[O])])])])}});z.Step=Z;var tt={prefixCls:t.string,iconPrefix:t.string,current:t.number,initial:t.number,labelPlacement:t.oneOf(W("horizontal","vertical")).def("horizontal"),status:t.oneOf(W("wait","process","finish","error")),size:t.oneOf(W("default","small")),direction:t.oneOf(W("horizontal","vertical")),progressDot:I(t.oneOfType([t.looseBool,t.func])),type:t.oneOf(W("default","navigation")),onChange:t.func,"onUpdate:current":t.func},P=$({name:"ASteps",inheritAttrs:!1,props:L(tt,{current:0}),emits:["update:current","change"],setup:function(){return{configProvider:Q("configProvider",J)}},Step:x(x({},z.Step),{name:"AStep"}),methods:{handleChange:function(e){this.$emit("update:current",e),this.$emit("change",e)}},render:function(){var e=this,s=x(x({},N(this)),this.$attrs),i=s.prefixCls,l=s.iconPrefix,f=this.configProvider.getPrefixCls,p=f("steps",i),c=f("",l),m=C(this,"progressDot",this,!1),r={finish:o(X,{class:"".concat(p,"-finish-icon")},null),error:o(K,{class:"".concat(p,"-error-icon")},null)},u=x(x({icons:r,iconPrefix:c,prefixCls:p,progressDot:m},s),{canClick:!!(this.onChange||this["onUpdate:current"]),onChange:this.handleChange});return o(z,u,{default:function(){return[U(e)]}})}});P.install=function(n){return n.component(P.name,P),n.component(P.Step.name,P.Step),n};P.Step;var ot=P;export{ot as S};

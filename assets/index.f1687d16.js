import{B as e,P as t,J as i,E as n,x as o,o as r,Q as s,s as a,_ as l,t as p,g as u,F as f,j as c,y as g,c as d,G as h}from"./debounce.67102cb7.js";import{T as m}from"./Trigger.156447fc.js";import{d as v,T as b,i as y,s as C,t as O,q as P,p as x}from"./vendor.1bd2b8e6.js";import"./index.e29b2859.js";import{b as V,B as w}from"./button.e3462cc8.js";import{R as N}from"./LeftOutlined.50f925a1.js";import{E as A}from"./EllipsisOutlined.88c23d2d.js";import{u as R,M as j,c as T,d as M}from"./Menu.5318a6ec.js";var k={adjustX:1,adjustY:1},E=[0,0],D={topLeft:{points:["bl","tl"],overflow:k,offset:[0,-4],targetOffset:E},topCenter:{points:["bc","tc"],overflow:k,offset:[0,-4],targetOffset:E},topRight:{points:["br","tr"],overflow:k,offset:[0,-4],targetOffset:E},bottomLeft:{points:["tl","bl"],overflow:k,offset:[0,4],targetOffset:E},bottomCenter:{points:["tc","bc"],overflow:k,offset:[0,4],targetOffset:E},bottomRight:{points:["tr","br"],overflow:k,offset:[0,4],targetOffset:E}},S=v({mixins:[e],props:{minOverlayWidthMatchTrigger:t.looseBool,prefixCls:t.string.def("rc-dropdown"),transitionName:t.string,overlayClassName:t.string.def(""),openClassName:t.string,animation:t.any,align:t.object,overlayStyle:t.object.def((function(){return{}})),placement:t.string.def("bottomLeft"),overlay:t.any,trigger:t.oneOfType([t.string,t.arrayOf(t.string)]).def("hover"),alignPoint:t.looseBool,showAction:t.array,hideAction:t.array,getPopupContainer:t.func,visible:t.looseBool,defaultVisible:t.looseBool.def(!1),mouseEnterDelay:t.number.def(.15),mouseLeaveDelay:t.number.def(.1)},data:function(){var e=this.defaultVisible;return i(this,"visible")&&(e=this.visible),{sVisible:e}},watch:{visible:function(e){void 0!==e&&this.setState({sVisible:e})}},methods:{onClick:function(e){var t=this.getOverlayElement().props;i(this,"visible")||this.setState({sVisible:!1}),this.__emit("overlayClick",e),t.onClick&&t.onClick(e)},onVisibleChange:function(e){i(this,"visible")||this.setState({sVisible:e}),this.__emit("update:visible",e),this.__emit("visibleChange",e)},getMinOverlayWidthMatchTrigger:function(){var e=n(this),t=e.minOverlayWidthMatchTrigger,i=e.alignPoint;return"minOverlayWidthMatchTrigger"in e?t:!i},getOverlayElement:function(){var e=o(this,"overlay");return Array.isArray(e)?e[0]:e},getMenuElement:function(){var e=this,t=this.onClick,i=this.prefixCls,n=this.getOverlayElement(),o={prefixCls:"".concat(i,"-menu"),getPopupContainer:function(){return e.getPopupDomNode()},onClick:t};return n&&n.type===b&&delete o.prefixCls,r(n,o)},getMenuElementOrLambda:function(){return"function"==typeof(this.overlay||this.$slots.overlay)?this.getMenuElement:this.getMenuElement()},getPopupDomNode:function(){return this.triggerRef.getPopupDomNode()},getOpenClassName:function(){var e=this.$props,t=e.openClassName,i=e.prefixCls;return void 0!==t?t:"".concat(i,"-open")},afterVisibleChange:function(e){if(e&&this.getMinOverlayWidthMatchTrigger()){var t=this.getPopupDomNode(),i=s(this);i&&t&&i.offsetWidth>t.offsetWidth&&(t.style.minWidth="".concat(i.offsetWidth,"px"),this.triggerRef&&this.triggerRef._component&&this.triggerRef._component.alignInstance&&this.triggerRef._component.alignInstance.forceAlign())}},renderChildren:function(){var e=a(this);return this.sVisible&&e?r(e[0],{class:this.getOpenClassName()},!1):e},saveTrigger:function(e){this.triggerRef=e}},render:function(){var e=this,t=this.$props,i=t.prefixCls,n=t.transitionName,o=t.animation,r=t.align,s=t.placement,a=t.getPopupContainer,p=t.showAction,u=t.hideAction,f=t.overlayClassName,c=t.overlayStyle,g=t.trigger,d=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i}(t,["prefixCls","transitionName","animation","align","placement","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","trigger"]),h=u;h||-1===g.indexOf("contextmenu")||(h=["click"]);var v=l(l({},d),{prefixCls:i,popupClassName:f,popupStyle:c,builtinPlacements:D,action:g,showAction:p,hideAction:h||[],popupPlacement:s,popupAlign:r,popupTransitionName:n,popupAnimation:o,popupVisible:this.sVisible,afterPopupVisibleChange:this.afterVisibleChange,getPopupContainer:a,onPopupVisibleChange:this.onVisibleChange,popup:this.getMenuElementOrLambda(),ref:this.saveTrigger});return y(m,v,{default:function(){return[e.renderChildren()]}})}}),B=function(){return{trigger:{type:[Array,String],default:"hover"},overlay:t.any,visible:t.looseBool,disabled:t.looseBool,align:t.object,getPopupContainer:t.func,prefixCls:t.string,transitionName:t.string,placement:t.oneOf(p("topLeft","topCenter","topRight","bottomLeft","bottomCenter","bottomRight")),overlayClassName:t.string,overlayStyle:t.style,forceRender:t.looseBool,mouseEnterDelay:t.number,mouseLeaveDelay:t.number,openClassName:t.string,minOverlayWidthMatchTrigger:t.looseBool}},L=V(),$=B(),W=w.Group,_=v({name:"ADropdownButton",inheritAttrs:!1,props:l(l({},$),{type:t.oneOf(p("primary","ghost","dashed","danger","default")).def("default"),size:t.oneOf(p("small","large","default")).def("default"),htmlType:L.htmlType,href:t.string,disabled:t.looseBool,prefixCls:t.string,placement:$.placement.def("bottomRight"),icon:t.any,title:t.string,onClick:t.func,onVisibleChange:t.func,"onUpdate:visible":t.func}),emits:["click","visibleChange","update:visible"],setup:function(){return{configProvider:C("configProvider",f),popupRef:null}},created:function(){O("savePopupRef",this.savePopupRef)},methods:{savePopupRef:function(e){this.popupRef=e},handleClick:function(e){this.$emit("click",e)},handleVisibleChange:function(e){this.$emit("update:visible",e),this.$emit("visibleChange",e)}},render:function(){var e=this,t=l(l({},this.$props),this.$attrs),n=t.type,r=t.disabled;t.onClick;var s=t.htmlType,p=t.class,f=t.prefixCls;t.overlay;var g=t.trigger,d=t.align,h=t.visible;t.onVisibleChange;var m=t.placement,v=t.getPopupContainer,b=t.href,C=t.title,O=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i}(t,["type","disabled","onClick","htmlType","class","prefixCls","overlay","trigger","align","visible","onVisibleChange","placement","getPopupContainer","href","title"]),P=o(this,"icon")||y(A,null,null),x=this.configProvider.getPopupContainer,V=(0,this.configProvider.getPrefixCls)("dropdown-button",f),N={align:d,disabled:r,trigger:r?[]:g,placement:m,getPopupContainer:v||x,onVisibleChange:this.handleVisibleChange};i(this,"visible")&&(N.visible=h);var R=l(l({},O),{class:u(V,p)});return y(W,R,{default:function(){return[y(w,{type:n,disabled:r,onClick:e.handleClick,htmlType:s,href:b,title:C},{default:function(){return[a(e)]}}),y(G,c(c({},N),{},{overlay:o(e,"overlay")}),{default:function(){return[y(w,{type:n},{default:function(){return[P]}})]}})]}})}}),I=B(),G=v({name:"ADropdown",inheritAttrs:!1,props:l(l({},I),{prefixCls:t.string,mouseEnterDelay:t.number.def(.15),mouseLeaveDelay:t.number.def(.1),placement:I.placement.def("bottomLeft"),onVisibleChange:t.func,"onUpdate:visible":t.func}),emits:["visibleChange","update:visible"],setup:function(){return{configProvider:C("configProvider",f),popupRef:null}},created:function(){O("savePopupRef",this.savePopupRef)},methods:{savePopupRef:function(e){this.popupRef=e},getTransitionName:function(){var e=this.$props,t=e.placement,i=void 0===t?"":t,n=e.transitionName;return void 0!==n?n:i.indexOf("top")>=0?"slide-down":"slide-up"},renderOverlay:function(e){var t=o(this,"overlay"),i=Array.isArray(t)?t[0]:t,n=i&&g(i)||{},r=n.selectable,s=void 0!==r&&r,a=n.focusable,l=void 0===a||a;return d(i)?P(i,{mode:"vertical",selectable:s,focusable:l,expandIcon:function(){return y("span",{class:"".concat(e,"-menu-submenu-arrow")},[y(N,{class:"".concat(e,"-menu-submenu-arrow-icon")},null)])}}):t},handleVisibleChange:function(e){this.$emit("update:visible",e),this.$emit("visibleChange",e)}},render:function(){var e,t,i=n(this),o=i.prefixCls,s=i.trigger,p=i.disabled,f=i.getPopupContainer,c=this.configProvider.getPopupContainer,g=(0,this.configProvider.getPrefixCls)("dropdown",o),d=a(this)[0],h=r(d,{class:u(null===(e=null==d?void 0:d.props)||void 0===e?void 0:e.class,"".concat(g,"-trigger")),disabled:p}),m=p?[]:"string"==typeof s?[s]:s;m&&-1!==m.indexOf("contextmenu")&&(t=!0);var v=l(l(l({alignPoint:t},i),this.$attrs),{prefixCls:g,getPopupContainer:f||c,transitionName:this.getTransitionName(),trigger:m,overlay:this.renderOverlay(g),onVisibleChange:this.handleVisibleChange});return y(S,v,{default:function(){return[h]}})}});G.Button=_;var U=v({name:"AMenuItemGroup",inheritAttrs:!1,props:{title:t.VNodeChild},slots:["title"],setup:function(e,t){var i=t.slots,n=t.attrs,o=R().prefixCls,r=x((function(){return"".concat(o.value,"-item-group")}));return function(){var t;return y("li",c(c({},n),{},{onClick:function(e){return e.stopPropagation()},class:r.value}),[y("div",{title:"string"==typeof e.title?e.title:void 0,class:"".concat(r.value,"-title")},[h(i,e,"title")]),y("ul",{class:"".concat(r.value,"-list")},[null===(t=i.default)||void 0===t?void 0:t.call(i)])])}}}),q=v({name:"AMenuDivider",setup:function(){var e=R().prefixCls;return function(){return y("li",{class:"".concat(e.value,"-item-divider")},null)}}});j.install=function(e){return e.component(j.name,j),e.component(T.name,T),e.component(M.name,M),e.component(q.name,q),e.component(U.name,U),e},j.Item=T,j.Divider=q,j.SubMenu=M,j.ItemGroup=U;export{G as D,_ as a};

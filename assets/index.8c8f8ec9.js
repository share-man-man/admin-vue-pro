import{g as t,P as e,a}from"./Content.f115bc1c.js";import{d as r,k as i,i as n,p as o,E as l,G as s,y as d,j as u,x as c,q as p,C as m,F as f}from"./vendor.6f72d5fc.js";import{g as v,d as h,_ as g,a as y,f as x,t as j,l as _,b,i as C,c as w,e as A,h as D,p as k,s as F,j as P,k as T,m as O,n as I,U as S,o as M,T as N,r as R,A as z,q as E,u as G,P as L,v as B,w as H}from"./workspace.aa49395d.js";import{A as U}from"./index.d9397ec7.js";import{C as V}from"./Card.e20ada17.js";import{P as $,_ as q,c as X,d as Y,g as J,b as K,j as Q,a as W}from"./debounce.53224f53.js";import"./index.570620f8.js";import{A as Z}from"./Avatar.58f4cd7b.js";import{L as tt}from"./index.16487d57.js";import{P as et}from"./tabs.d659d406.js";import{c as at,s as rt,a as it,S as nt}from"./Statistic.a2a2df5d.js";import{i as ot}from"./initDefaultProps.e3db526a.js";import{t as lt}from"./toInteger.358572ae.js";import{w as st}from"./SearchOutlined.911383eb.js";import{R as dt,C as ut}from"./index.4b1d61e3.js";import{B as ct}from"./button.a72499c7.js";import"./oauth.cbb08453.js";import"./index.e7a9ca42.js";import"./createChainedFunction.2d5d7d53.js";import"./ExclamationCircleFilled.e6098fac.js";import"./CloseCircleFilled.0d2049b6.js";import"./LoadingOutlined.fc56fea6.js";import"./CloseCircleOutlined.8bf885ad.js";import"./InfoCircleOutlined.6e6a88c8.js";import"./code.aa7872b2.js";import"./index.bc2c477e.js";import"./transButton.789181f2.js";import"./_Set.00542764.js";import"./Menu.22711739.js";import"./_setToArray.9043b94f.js";import"./Trigger.453d690e.js";import"./EllipsisOutlined.78e82d0a.js";import"./useSize.a8cdded3.js";import"./index.b2c4bfdc.js";import"./index.79ea523d.js";import"./LeftOutlined.de4386ac.js";import"./useBreakpoint.69150a26.js";import"./index.e44e5c57.js";import"./index.e95576fb.js";import"./index.9563d230.js";import"./antInputDirective.093c4552.js";import"./CheckOutlined.ea314fd5.js";import"./Col.d7314daf.js";import"./_baseProperty.74f89655.js";import"./wave.fd760b9f.js";var pt=r({name:"ACardMeta",props:{prefixCls:$.string,title:$.VNodeChild,description:$.VNodeChild,avatar:$.VNodeChild},setup:function(){return{configProvider:i("configProvider",Y)}},render:function(){var t=this.$props.prefixCls,e=(0,this.configProvider.getPrefixCls)("card",t),a=q({},"".concat(e,"-meta"),!0),r=X(this,"avatar"),i=X(this,"title"),o=X(this,"description"),l=r?n("div",{class:"".concat(e,"-meta-avatar")},[r]):null,s=i?n("div",{class:"".concat(e,"-meta-title")},[i]):null,d=o?n("div",{class:"".concat(e,"-meta-description")},[o]):null,u=s||d?n("div",{class:"".concat(e,"-meta-detail")},[s,d]):null;return n("div",{class:a},[l,u])}}),mt=r({name:"ACardGrid",__ANT_CARD_GRID:!0,props:{prefixCls:$.string,hoverable:$.looseBool},setup:function(){return{configProvider:i("configProvider",Y)}},render:function(){var t,e=this.$props,a=e.prefixCls,r=e.hoverable,i=void 0===r||r,o=(0,this.configProvider.getPrefixCls)("card",a),l=(q(t={},"".concat(o,"-grid"),!0),q(t,"".concat(o,"-grid-hoverable"),i),t);return n("div",{class:l},[J(this)])}});V.Meta=pt,V.Grid=mt,V.install=function(t){return t.component(V.name,V),t.component(pt.name,pt),t.component(mt.name,mt),t};var ft=[["Y",31536e6],["M",2592e6],["D",864e5],["H",36e5],["m",6e4],["s",1e3],["S",1]];function vt(t,e){var a=t,r=/\[[^\]]*]/g,i=(e.match(r)||[]).map((function(t){return t.slice(1,-1)})),n=e.replace(r,"[]"),o=ft.reduce((function(t,e){var r=K(e,2),i=r[0],n=r[1];if(-1!==t.indexOf(i)){var o=Math.floor(a/n);return a-=o*n,t.replace(new RegExp("".concat(i,"+"),"g"),(function(t){var e=t.length;return function(t,e,a){t=st(t);var r=(e=lt(e))?rt(t):0;return e&&r<e?at(e-r,a)+t:t}(o.toString(),e,"0")}))}return t}),n),l=0;return o.replace(r,(function(){var t=i[l];return l+=1,t}))}function ht(t){return new Date(t).getTime()}var gt=r({name:"AStatisticCountdown",props:ot(it,{format:"HH:mm:ss"}),emits:["finish","change"],setup:function(t,e){var a=e.emit,r=o(),i=o(),u=function(){ht(t.value)>=Date.now()?c():p()},c=function(){if(!r.value){var e=ht(t.value);r.value=window.setInterval((function(){i.value.$forceUpdate(),e>Date.now()&&a("change",e-Date.now()),u()}),33.333333333333336)}},p=function(){var e=t.value;r.value&&(clearInterval(r.value),r.value=void 0,ht(e)<Date.now()&&a("finish"))},m=function(e){var a=e.value,r=e.config,i=t.format;return function(t,e){var a=e.format,r=void 0===a?"":a,i=new Date(t).getTime(),n=Date.now();return vt(Math.max(i-n,0),r)}(a,W(W({},r),{format:i}))},f=function(t){return t};return l((function(){u()})),s((function(){u()})),d((function(){p()})),function(){return n(nt,Q({ref:i},W(W({},t),{valueRender:f,formatter:m})),null)}}});nt.Countdown=gt,nt.install=function(t){return t.component(nt.name,nt),t.component(nt.Countdown.name,nt.Countdown),t},nt.Countdown;var yt=r({setup:(e,{slots:a})=>()=>n("div",{class:"av-header-wrap"},[n("div",{class:"av-header-wrap-content"},[t(a,"content")]),n("div",{class:"av-header-wrap-extra"},[u(" "),t(a,"extra")])])});var xt="_page-header-content_rv028_1",jt="_avatar_rv028_4",_t="_content_rv028_13",bt="_content-title_rv028_21",Ct="_extra-content_rv028_28",wt="_stat-item_rv028_44",At="_project-list_rv028_80",Dt="_card-title_rv028_80",kt="_card-description_rv028_95",Ft="_project-item_rv028_101",Pt="_datetime_rv028_117",Tt="_item-group_rv028_128",Ot="_members_rv028_139",It="_member_rv028_139",St="_project-card-grid_rv028_158",Mt="_welcome-text_rv028_166";function Nt(t){var e=t.chart,a=t.options,r=a.data,i=a.lineStyle,n=a.color,o=a.point,l=a.area,s=null==o?void 0:o.state;e.data(r);var d=h({},t,{options:{line:{style:i,color:n},point:o?g({color:n},o):o,area:l?g({color:n},l):l,label:void 0}}),u=h({},d,{options:{tooltip:!1}}),c=h({},d,{options:{tooltip:!1,state:s}});return D(d),k(c),function(t){var e=t.options,a=e.area,r=e.xField,i=e.yField,n=e.seriesField,o=e.smooth,l=e.tooltip,s=y(l,[r,i,n]),d=s.fields,u=s.formatter;a&&v(h({},t,{options:{type:"area",colorField:n,tooltipFields:d,mapping:g({shape:o?"smooth":"area",tooltip:u},a)}}))}(u),t}function Rt(t){var e,a=t.options,r=a.xAxis,i=a.yAxis,n=a.xField,o=a.yField;return x(F(((e={})[n]=r,e[o]=i,e)))(t)}function zt(t){var e=t.chart,a=t.options,r=a.radius,i=a.startAngle,n=a.endAngle;return e.coordinate("polar",{radius:r,startAngle:i,endAngle:n}),t}function Et(t){var e=t.chart,a=t.options,r=a.xField,i=a.xAxis,n=a.yField,o=a.yAxis;return e.axis(r,i),e.axis(n,o),t}function Gt(t){var e=t.chart,a=t.options,r=a.label,i=a.yField,n=P(e,"line");if(r){var o=r.callback,l=T(r,["callback"]);n.label({fields:[i],callback:o,cfg:O(l)})}else n.label(!1);return t}function Lt(t){return x(Nt,Rt,j,zt,Et,_,b,Gt,C,w,A())(t)}R("radar-tooltip",function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return I(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"radar-tooltip"},enumerable:!1,configurable:!0}),e.prototype.getTooltipItems=function(e){var a=this.getTooltipCfg(),r=a.shared,i=a.title,n=t.prototype.getTooltipItems.call(this,e);if(n.length>0){var o=this.view.geometries[0],l=o.dataArray,s=n[0].name,d=[];return l.forEach((function(t){t.forEach((function(t){var e=S.getTooltipItems(t,o)[0];if(!r&&e&&e.name===s){var a=M(i)?s:i;d.push(g(g({},e),{name:e.title,title:a}))}else if(r&&e){a=M(i)?e.name||s:i;d.push(g(g({},e),{name:e.title,title:a}))}}))})),d}return[]},e}(N)),E("radar-tooltip",function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return I(e,t),e.prototype.init=function(){this.context.view.removeInteraction("tooltip")},e.prototype.show=function(){var t=this.context.event;this.getTooltipController().showTooltip({x:t.x,y:t.y})},e.prototype.hide=function(){this.getTooltipController().hideTooltip()},e.prototype.getTooltipController=function(){return this.context.view.getController("radar-tooltip")},e}(z)),G("radar-tooltip",{start:[{trigger:"plot:mousemove",action:"radar-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"radar-tooltip:hide"}]});var Bt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="radar",e}return I(e,t),e.prototype.changeData=function(t){this.updateOption({data:t}),this.chart.changeData(t)},e.prototype.getDefaultOptions=function(){return h({},t.prototype.getDefaultOptions.call(this),{xAxis:{label:{offset:15},grid:{line:{type:"line"}}},yAxis:{grid:{line:{type:"circle"}}},legend:{position:"top"},tooltip:{shared:!0,showCrosshairs:!0,showMarkers:!0,crosshairs:{type:"xy",line:{style:{stroke:"#565656",lineDash:[4]}},follow:!0}}})},e.prototype.getSchemaAdaptor=function(){return Lt},e}(L),Ht=r({props:{data:{type:Array,default:()=>[]}},setup(t){let e;const a={data:t.data,xField:"item",yField:"score",seriesField:"user",meta:{score:{alias:"分数",min:0,max:80}},xAxis:{line:null,tickLine:null,grid:{line:{style:{lineDash:null}}}},yAxis:{line:null,tickLine:null,grid:{line:{type:"line",style:{lineDash:null}}}},point:{size:2}};return l((()=>{e=new Bt("radarContainer",a),e.render()})),c(t.data,(t=>{e.changeData(t)})),()=>n("div",{id:"radarContainer"},null)}});function Ut(t){return"function"==typeof t||"[object Object]"===Object.prototype.toString.call(t)&&!m(t)}var Vt=r({setup(){const t=o(!1),r=o(!1),i=o([]),s=o([]),d=o([]),c=p({avatar:"",name:""}),m=o([]),v=o({projectNum:0,teamRank:0,visitNum:0}),h=()=>n("div",{class:xt},[n("div",{class:jt},[n(Z,{size:"large",src:c.avatar},null)]),n("div",{class:_t},[n("div",{class:bt},[u("早安，"),c.name,n("span",{class:Mt},[u("，今天又是搬砖的一天")])]),n("div",null,[u("全栈工程师 | 板砖技术部 - 某某某事业群 - 前端平台")])])]),g=()=>n("div",{class:Ct},[n("div",{class:wt},[n(nt,{title:"项目数",value:v.value.projectNum},null)]),n("div",{class:wt},[n(nt,{title:"团队内排名",value:v.value.teamRank,suffix:"/ 24"},null)]),n("div",{class:wt},[n(nt,{title:"项目访问",value:v.value.visitNum},null)])]);return l((()=>{(async()=>{const{currentUser:t,projects:e,activities:a,teams:r,statistic:n}=await B();c.avatar=t.avatar,c.name=t.name,i.value.push(...e),s.value.push(...a),d.value.push(...r),v.value=n;const o=await H();m.value.splice(0,m.value.length,...o)})()})),()=>{let o,l;return n(f,null,[n(e,null,{default:()=>[n(U,{title:"工作台"},{default:()=>[n(yt,null,{content:h,extra:g})]})]}),n(a,null,{default:()=>[n(dt,{gutter:24},{default:()=>[n(ut,{xl:16,lg:24,md:24,sm:24,xs:24},{default:()=>[n(V,{class:At,loading:t.value,style:"margin-bottom: 22px;",bordered:!1,title:"所有项目","body-style":{padding:0},extra:n("a",null,[u("其他")])},{default:()=>[n("div",null,[i.value.map((t=>n(V.Grid,{class:St,key:t.id},{default:()=>[n(V,{bordered:!1,"body-style":{padding:0}},{default:()=>[n(V.Meta,null,{title:()=>n("div",{class:Dt},[n(Z,{size:"small",src:t.cover},null),n("a",null,[t.title])]),description:()=>n("div",{class:kt},[t.description])}),n("div",{class:Ft},[n("a",{href:"/#/"},[u("科学搬砖组")]),n("span",{class:Pt},[u("9小时前")])])]})]})))])]}),n(V,{loading:t.value,title:"动态",bordered:!1},{default:()=>[n(tt,null,Ut(o=s.value.map((t=>n(tt.Item,{key:t.id},{default:()=>[n(tt.Item.Meta,{avatar:n(Z,{src:t.avatar},null)},{title:()=>n("div",null,[n("span",null,[t.nickname]),u("  在 "),n("a",{href:"#"},[t.project]),u(" "),n("span",null,[t.action]),u(" "),n("a",{href:"#"},[t.event])]),description:()=>n("div",null,[t.time])})]}))))?o:{default:()=>[o]})]})]}),n(ut,{style:"padding: 0 12px",xl:8,lg:24,md:24,sm:24,xs:24},{default:()=>[n(V,{title:"快速开始 / 便捷导航",style:"margin-bottom: 24px",bordered:!1,"body-style":{padding:0}},{default:()=>[n("div",{class:Tt},[n("a",null,[u("操作一")]),n("a",null,[u("操作二")]),n("a",null,[u("操作三")]),n("a",null,[u("操作四")]),n("a",null,[u("操作五")]),n("a",null,[u("操作六")]),n(ct,{size:"small",type:"primary",ghost:!0,icon:n(et,null,null)},{default:()=>[u("添加")]})])]}),n(V,{title:"XX 指数",style:"margin-bottom: 24px",loading:r.value,bordered:!1,"body-style":{padding:0}},{default:()=>[n("div",{style:"min-height: 400px;"},[n(Ht,{data:m.value},null)])]}),n(V,{loading:t.value,title:"团队",bordered:!1},{default:()=>[n("div",{class:Ot},[n(dt,null,Ut(l=d.value.map((t=>n(ut,{key:t.id,span:12},{default:()=>[n("a",null,[n(Z,{size:"small",src:t.avatar},null),n("span",{class:It},[t.name])])]}))))?l:{default:()=>[l]})])]})]})]})]})])}}});export default Vt;

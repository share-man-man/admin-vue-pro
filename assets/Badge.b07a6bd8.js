import{_ as t,g as e,k as n,m as o,o as r,P as a,j as l,t as u,d as s,H as c,n as i,b as v,l as f,T as p}from"./debounce.7c4b284f.js";import{d,p as m,n as b,l as y,w as x,x as g,i as O,C as h,D as C}from"./vendor.13fa0854.js";import{P as w}from"./EllipsisOutlined.59e3f1df.js";import{i as N}from"./isNumeric.2da33d93.js";function S(t){var n,o=t.prefixCls,r=t.value,a=t.current,l=t.offset,u=void 0===l?0:l;return u&&(n={position:"absolute",top:"".concat(u,"00%"),left:0}),O("p",{style:n,class:e("".concat(o,"-only-unit"),{current:a})},[r])}function j(t,e,n){for(var o=t,r=0;(o+10)%10!==e;)o+=n,r+=n;return r}var P=d({name:"SingleNumber",props:{prefixCls:String,value:String,count:Number},setup:function(e){var n=m((function(){return Number(e.value)})),o=m((function(){return Math.abs(e.count)})),r=b({prevValue:n.value,prevCount:o.value}),a=function(){r.prevValue=n.value,r.prevCount=o.value},l=y();return x(n,(function(){clearTimeout(l.value),l.value=setTimeout((function(){a()}),1e3)}),{flush:"post"}),g((function(){clearTimeout(l.value)})),function(){var l,u={},s=n.value;if(r.prevValue===s||Number.isNaN(s)||Number.isNaN(r.prevValue))l=[S(t(t({},e),{current:!0}))],u={transition:"none"};else{l=[];for(var c=s+10,i=[],v=s;v<=c;v+=1)i.push(v);var f=i.findIndex((function(t){return t%10===r.prevValue}));l=i.map((function(n,o){var r=n%10;return S(t(t({},e),{value:r,offset:o-f,current:o===f}))}));var p=r.prevCount<o.value?1:-1;u={transform:"translateY(".concat(-j(r.prevValue,s,p),"00%)")}}return O("span",{class:"".concat(e.prefixCls,"-only"),style:u,onTransitionend:function(){return a()}},[l])}}}),T=d({name:"ScrollNumber",inheritAttrs:!1,props:{prefixCls:a.string,count:a.any,component:a.string,title:a.oneOfType([a.number,a.string,null]),show:Boolean},setup:function(a,l){var u=l.attrs,s=l.slots,c=n("scroll-number",a).prefixCls;return function(){var n,l=t(t({},a),u);l.prefixCls;var i=l.count,v=l.title;l.show;var f=l.component,p=void 0===f?"sup":f,d=l.class,m=l.style,b=function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]])}return n}(l,["prefixCls","count","title","show","component","class","style"]),y=t(t({},b),{style:m,"data-show":a.show,class:e(c.value,d),title:v}),x=i;if(i&&Number(i)%1==0){var g=String(i).split("");x=g.map((function(t,e){return O(P,{prefixCls:c.value,count:Number(i),value:t,key:g.length-e},null)}))}m&&m.borderColor&&(y.style=t(t({},m),{boxShadow:"0 0 0 1px ".concat(m.borderColor," inset")}));var h=o(null===(n=s.default)||void 0===n?void 0:n.call(s));return h&&h.length?r(h,{class:e("".concat(c.value,"-custom-component"))},!1):O(p,y,{default:function(){return[x]}})}}});function V(t){return-1!==w.indexOf(t)}var k=d({name:"ABadgeRibbon",inheritAttrs:!1,props:{prefix:a.string,color:{type:String},text:a.any,placement:a.oneOf(u("start","end")).def("end")},slots:["text"],setup:function(e,o){var r=o.attrs,a=o.slots,u=n("ribbon",e),c=u.prefixCls,i=u.direction,v=m((function(){return V(e.color)})),f=m((function(){var t;return[c.value,"".concat(c.value,"-placement-").concat(e.placement),(t={},s(t,"".concat(c.value,"-rtl"),"rtl"===i.value),s(t,"".concat(c.value,"-color-").concat(e.color),v.value),t)]}));return function(){var n,o,u=r.class,s=r.style,i=function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]])}return n}(r,["class","style"]),p={},d={};return e.color&&!v.value&&(p.background=e.color,d.color=e.color),O("div",l({class:"".concat(c.value,"-wrapper")},i),[null===(n=a.default)||void 0===n?void 0:n.call(a),O("div",{class:[f.value,u],style:t(t({},p),s)},[O("span",{class:"".concat(c.value,"-text")},[e.text||(null===(o=a.text)||void 0===o?void 0:o.call(a))]),O("div",{class:"".concat(c.value,"-corner"),style:d},null)])])}}}),B=d({name:"ABadge",Ribbon:k,inheritAttrs:!1,props:{count:a.any,showZero:a.looseBool,overflowCount:a.number.def(99),dot:a.looseBool,prefixCls:a.string,scrollNumberPrefixCls:a.string,status:a.oneOf(u("success","processing","default","error","warning")),size:a.oneOf(u("default","small")).def("default"),color:a.string,text:a.VNodeChild,offset:a.arrayOf(a.oneOfType([String,Number])),numberStyle:a.style,title:a.string},slots:["text","count"],setup:function(o,a){var u=a.slots,d=a.attrs,b=n("badge",o),g=b.prefixCls,w=b.direction,S=m((function(){return o.count>o.overflowCount?"".concat(o.overflowCount,"+"):o.count})),j=m((function(){return null!==o.status&&void 0!==o.status||null!==o.color&&void 0!==o.color})),P=m((function(){return"0"===S.value||0===S.value})),k=m((function(){return o.dot&&!P.value||j.value})),B=m((function(){return k.value?"":S.value})),A=m((function(){return(null===B.value||void 0===B.value||""===B.value||P.value&&!o.showZero)&&!k.value})),I=y(o.count),z=y(B.value),E=y(k.value);x([function(){return o.count},B,k],(function(){A.value||(I.value=o.count,z.value=B.value,E.value=k.value)}),{immediate:!0});var R=m((function(){var t;return s(t={},"".concat(g.value,"-status-dot"),j.value),s(t,"".concat(g.value,"-status-").concat(o.status),!!o.status),s(t,"".concat(g.value,"-status-").concat(o.color),V(o.color)),t})),Z=m((function(){return o.color&&!V(o.color)?{background:o.color}:{}})),D=m((function(){var t;return s(t={},"".concat(g.value,"-dot"),E.value),s(t,"".concat(g.value,"-count"),!E.value),s(t,"".concat(g.value,"-count-sm"),"small"===o.size),s(t,"".concat(g.value,"-multiple-words"),!E.value&&z.value&&z.value.toString().length>1),s(t,"".concat(g.value,"-status-").concat(o.status),!!o.status),s(t,"".concat(g.value,"-status-").concat(o.color),V(o.color)),t}));return function(){var n,a,m,b=o.offset,y=o.title,x=o.color,S=d.style,P=c(u,o,"text"),k=g.value,B=I.value,E=i(null===(a=u.default)||void 0===a?void 0:a.call(u));E=E.length?E:null;var H=!(A.value&&!u.count),M=function(){if(!b)return t({},S);var e={marginTop:N(b[1])?"".concat(b[1],"px"):b[1]};return"rtl"===w.value?e.left="".concat(parseInt(b[0],10),"px"):e.right="".concat(-parseInt(b[0],10),"px"),t(t({},e),S)}(),Y=null!=y?y:"string"==typeof B||"number"==typeof B?B:void 0,_=H||!P?null:O("span",{class:"".concat(k,"-status-text")},[P]),q="object"===v(B)||void 0===B&&u.count?r(null!=B?B:null===(m=u.count)||void 0===m?void 0:m.call(u),{style:M},!1):null,F=e(k,(s(n={},"".concat(k,"-status"),j.value),s(n,"".concat(k,"-not-a-wrapper"),!E),s(n,"".concat(k,"-rtl"),"rtl"===w.value),n),d.class);if(!E&&j.value){var G=M.color;return O("span",l(l({},d),{},{class:F,style:M}),[O("span",{class:R.value,style:Z.value},null),O("span",{style:{color:G},class:"".concat(k,"-status-text")},[P])])}var J=f(E?"".concat(k,"-zoom"):"",{appear:!1}),K=t(t({},M),o.numberStyle);return x&&!V(x)&&((K=K||{}).background=x),O("span",l(l({},d),{},{class:F}),[E,O(p,J,{default:function(){return[h(O(T,{prefixCls:o.scrollNumberPrefixCls,show:H,class:D.value,count:z.value,title:Y,style:K,key:"scrollNumber"},{default:function(){return[q]}}),[[C,H]])]}}),_])}}});export{B,k as R};

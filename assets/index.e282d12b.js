import{d as r,g as t,c as e,i as n,h as o}from"./index.f70780cc.js";import{P as a,g as i,D as c,o as u,h as s,r as f,z as l,s as p}from"./index.29576476.js";import{D as d}from"./dropdown.8fb246dd.js";import{M as m}from"./index.c7ea5c88.js";function b(r){return"function"==typeof r||"[object Object]"===Object.prototype.toString.call(r)&&!n(r)}var h=r({name:"ABreadcrumbItem",__ANT_BREADCRUMB_ITEM:!0,props:{prefixCls:a.string,href:a.string,separator:a.VNodeChild.def("/"),overlay:a.VNodeChild},setup:function(){return{configProvider:t("configProvider",f)}},methods:{renderBreadcrumbNode:function(r,t){var n,o=i(this,"overlay");return o?e(d,{overlay:o,placement:"bottomCenter"},b(n=e("span",{class:"".concat(t,"-overlay-link")},[r,e(c,null,null)]))?n:{default:function(){return[n]}}):r}},render:function(){var r,t=this.prefixCls,n=(0,this.configProvider.getPrefixCls)("breadcrumb",t),o=i(this,"separator"),a=u(this);return r=s(this,"href")?e("a",{class:"".concat(n,"-link")},b(a)?a:{default:function(){return[a]}}):e("span",{class:"".concat(n,"-link")},b(a)?a:{default:function(){return[a]}}),r=this.renderBreadcrumbNode(r,n),a?e("span",null,[r,o&&""!==o&&e("span",{class:"".concat(n,"-separator")},b(o)?o:{default:function(){return[o]}})]):null}});function y(r){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}function g(r){return function(r){if(Array.isArray(r))return v(r)}(r)||function(r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(r))return Array.from(r)}(r)||function(r,t){if(!r)return;if("string"==typeof r)return v(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);"Object"===e&&r.constructor&&(e=r.constructor.name);if("Map"===e||"Set"===e)return Array.from(r);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return v(r,t)}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function O(r){return"function"==typeof r||"[object Object]"===Object.prototype.toString.call(r)&&!n(r)}function j(r){var t=r.route,n=r.params,o=r.routes,a=r.paths,i=o.indexOf(t)===o.length-1,c=function(r,t){if(!r.breadcrumbName)return null;var e=Object.keys(t).join("|");return r.breadcrumbName.replace(new RegExp(":(".concat(e,")"),"g"),(function(r,e){return t[e]||r}))}(t,n);return i?e("span",null,O(c)?c:{default:function(){return[c]}}):e("a",{href:"#/".concat(a.join("/"))},O(c)?c:{default:function(){return[c]}})}var P=r({name:"ABreadcrumb",props:{prefixCls:a.string,routes:{type:Array},params:a.any,separator:a.VNodeChild,itemRender:{type:Function}},setup:function(){return{configProvider:t("configProvider",f)}},methods:{getPath:function(r,t){return r=(r||"").replace(/^\//,""),Object.keys(t).forEach((function(e){r=r.replace(":".concat(e),t[e])})),r},addChildPath:function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e=arguments.length>2?arguments[2]:void 0,n=g(r),o=this.getPath(t,e);return o&&n.push(o),n},genForRoutes:function(r){var t=this,n=r.routes,o=void 0===n?[]:n,a=r.params,i=void 0===a?{}:a,c=r.separator,u=r.itemRender,s=void 0===u?j:u,f=[];return o.map((function(r){var n,a=t.getPath(r.path,i);a&&f.push(a);var u,l=[].concat(f),p=null;r.children&&r.children.length&&(p=e(m,null,O(u=r.children.map((function(r){var n;return e(m.Item,{key:r.path||r.breadcrumbName},O(n=s({route:r,params:i,routes:o,paths:t.addChildPath(l,r.path,i)}))?n:{default:function(){return[n]}})})))?u:{default:function(){return[u]}}));return e(h,{overlay:p,separator:c,key:a||r.breadcrumbName},O(n=s({route:r,params:i,routes:o,paths:l}))?n:{default:function(){return[n]}})}))}},render:function(){var r,t=this.prefixCls,n=this.routes,a=this.params,c=void 0===a?{}:a,s=this.$slots,f=(0,this.configProvider.getPrefixCls)("breadcrumb",t),d=l(u(this)),m=i(this,"separator"),b=this.itemRender||s.itemRender||j;return n&&n.length>0?r=this.genForRoutes({routes:n,params:c,separator:m,itemRender:b}):d.length&&(r=d.map((function(r,t){return p("object"===y(r.type)&&(r.type.__ANT_BREADCRUMB_ITEM||r.type.__ANT_BREADCRUMB_SEPARATOR),"Breadcrumb","Only accepts Breadcrumb.Item and Breadcrumb.Separator as it's children"),o(r,{separator:m,key:t})}))),e("div",{class:f},O(r)?r:{default:function(){return[r]}})}});function A(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),e.push.apply(e,n)}return e}function S(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}var C=r({name:"ABreadcrumbSeparator",__ANT_BREADCRUMB_SEPARATOR:!0,inheritAttrs:!1,props:{prefixCls:a.string},setup:function(){return{configProvider:t("configProvider",f)}},render:function(){var r=this.prefixCls,t=this.$attrs;t.separator;var n=t.class,o=function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(r);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(r,n[o])&&(e[n[o]]=r[n[o]])}return e}(t,["separator","class"]),a=(0,this.configProvider.getPrefixCls)("breadcrumb",r),i=u(this);return e("span",function(r){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?A(Object(e),!0).forEach((function(t){S(r,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):A(Object(e)).forEach((function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))}))}return r}({class:["".concat(a,"-separator"),n]},o),[i.length>0?i:"/"])}});P.Item=h,P.Separator=C,P.install=function(r){return r.component(P.name,P),r.component(h.name,h),r.component(C.name,C),r};export{P as B};

import{a as t,h as e,s as n,y as o,e as r,P as a,j as l,t as u,_ as s,J as c,z as i,o as v,v as f,T as p}from"./debounce.53224f53.js";import{d,s as m,q as y,p as b,x,z as g,i as h,w as O,D as w}from"./vendor.6f72d5fc.js";import{P as C}from"./EllipsisOutlined.78e82d0a.js";import{i as N}from"./isNumeric.2bec345d.js";function S(t){var n,o=t.prefixCls,r=t.value,a=t.current,l=t.offset,u=void 0===l?0:l;return u&&(n={position:"absolute",top:"".concat(u,"00%"),left:0}),h("p",{style:n,class:e("".concat(o,"-only-unit"),{current:a})},[r])}function j(t,e,n){for(var o=t,r=0;(o+10)%10!==e;)o+=n,r+=n;return r}var P=d({name:"SingleNumber",props:{prefixCls:String,value:String,count:Number},setup:function(e){var n=m((function(){return Number(e.value)})),o=m((function(){return Math.abs(e.count)})),r=y({prevValue:n.value,prevCount:o.value}),a=function(){r.prevValue=n.value,r.prevCount=o.value},l=b();return x(n,(function(){clearTimeout(l.value),l.value=setTimeout((function(){a()}),1e3)}),{flush:"post"}),g((function(){clearTimeout(l.value)})),function(){var l,u={},s=n.value;if(r.prevValue===s||Number.isNaN(s)||Number.isNaN(r.prevValue))l=[S(t(t({},e),{current:!0}))],u={transition:"none"};else{l=[];for(var c=s+10,i=[],v=s;v<=c;v+=1)i.push(v);var f=i.findIndex((function(t){return t%10===r.prevValue}));l=i.map((function(n,o){var r=n%10;return S(t(t({},e),{value:r,offset:o-f,current:o===f}))}));var p=r.prevCount<o.value?1:-1;u={transform:"translateY(".concat(-j(r.prevValue,s,p),"00%)")}}return h("span",{class:"".concat(e.prefixCls,"-only"),style:u,onTransitionend:function(){return a()}},[l])}}}),T=d({name:"ScrollNumber",inheritAttrs:!1,props:{prefixCls:a.string,count:a.any,component:a.string,title:a.oneOfType([a.number,a.string,null]),show:Boolean},setup:function(a,l){var u=l.attrs,s=l.slots,c=n("scroll-number",a).prefixCls;return function(){var n,l=t(t({},a),u);l.prefixCls;var i=l.count,v=l.title;l.show;var f=l.component,p=void 0===f?"sup":f,d=l.class,m=l.style,y=function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]])}return n}(l,["prefixCls","count","title","show","component","class","style"]),b=t(t({},y),{style:m,"data-show":a.show,class:e(c.value,d),title:v}),x=i;if(i&&Number(i)%1==0){var g=String(i).split("");x=g.map((function(t,e){return h(P,{prefixCls:c.value,count:Number(i),value:t,key:g.length-e},null)}))}m&&m.borderColor&&(b.style=t(t({},m),{boxShadow:"0 0 0 1px ".concat(m.borderColor," inset")}));var O=o(null===(n=s.default)||void 0===n?void 0:n.call(s));return O&&O.length?r(O,{class:e("".concat(c.value,"-custom-component"))},!1):h(p,b,{default:function(){return[x]}})}}});function V(t){return-1!==C.indexOf(t)}var B=d({name:"ABadgeRibbon",inheritAttrs:!1,props:{prefix:a.string,color:{type:String},text:a.any,placement:a.oneOf(u("start","end")).def("end")},slots:["text"],setup:function(e,o){var r=o.attrs,a=o.slots,u=n("ribbon",e),c=u.prefixCls,i=u.direction,v=m((function(){return V(e.color)})),f=m((function(){var t;return[c.value,"".concat(c.value,"-placement-").concat(e.placement),(t={},s(t,"".concat(c.value,"-rtl"),"rtl"===i.value),s(t,"".concat(c.value,"-color-").concat(e.color),v.value),t)]}));return function(){var n,o,u=r.class,s=r.style,i=function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]])}return n}(r,["class","style"]),p={},d={};return e.color&&!v.value&&(p.background=e.color,d.color=e.color),h("div",l({class:"".concat(c.value,"-wrapper")},i),[null===(n=a.default)||void 0===n?void 0:n.call(a),h("div",{class:[f.value,u],style:t(t({},p),s)},[h("span",{class:"".concat(c.value,"-text")},[e.text||(null===(o=a.text)||void 0===o?void 0:o.call(a))]),h("div",{class:"".concat(c.value,"-corner"),style:d},null)])])}}}),k=d({name:"ABadge",Ribbon:B,inheritAttrs:!1,props:{count:a.any,showZero:a.looseBool,overflowCount:a.number.def(99),dot:a.looseBool,prefixCls:a.string,scrollNumberPrefixCls:a.string,status:a.oneOf(u("success","processing","default","error","warning")),size:a.oneOf(u("default","small")).def("default"),color:a.string,text:a.VNodeChild,offset:a.arrayOf(a.oneOfType([String,Number])),numberStyle:a.style,title:a.string},slots:["text","count"],setup:function(o,a){var u=a.slots,d=a.attrs,y=n("badge",o),g=y.prefixCls,C=y.direction,S=m((function(){return o.count>o.overflowCount?"".concat(o.overflowCount,"+"):o.count})),j=m((function(){return null!==o.status&&void 0!==o.status||null!==o.color&&void 0!==o.color})),P=m((function(){return"0"===S.value||0===S.value})),B=m((function(){return o.dot&&!P.value||j.value})),k=m((function(){return B.value?"":S.value})),z=m((function(){return(null===k.value||void 0===k.value||""===k.value||P.value&&!o.showZero)&&!B.value})),A=b(o.count),I=b(k.value),E=b(B.value);x([function(){return o.count},k,B],(function(){z.value||(A.value=o.count,I.value=k.value,E.value=B.value)}),{immediate:!0});var R=m((function(){var t;return s(t={},"".concat(g.value,"-status-dot"),j.value),s(t,"".concat(g.value,"-status-").concat(o.status),!!o.status),s(t,"".concat(g.value,"-status-").concat(o.color),V(o.color)),t})),Z=m((function(){return o.color&&!V(o.color)?{background:o.color}:{}})),q=m((function(){var t;return s(t={},"".concat(g.value,"-dot"),E.value),s(t,"".concat(g.value,"-count"),!E.value),s(t,"".concat(g.value,"-count-sm"),"small"===o.size),s(t,"".concat(g.value,"-multiple-words"),!E.value&&I.value&&I.value.toString().length>1),s(t,"".concat(g.value,"-status-").concat(o.status),!!o.status),s(t,"".concat(g.value,"-status-").concat(o.color),V(o.color)),t}));return function(){var n,a,m,y=o.offset,b=o.title,x=o.color,S=d.style,P=c(u,o,"text"),B=g.value,k=A.value,E=i(null===(a=u.default)||void 0===a?void 0:a.call(u));E=E.length?E:null;var D=!(z.value&&!u.count),J=function(){if(!y)return t({},S);var e={marginTop:N(y[1])?"".concat(y[1],"px"):y[1]};return"rtl"===C.value?e.left="".concat(parseInt(y[0],10),"px"):e.right="".concat(-parseInt(y[0],10),"px"),t(t({},e),S)}(),M=null!=b?b:"string"==typeof k||"number"==typeof k?k:void 0,Y=D||!P?null:h("span",{class:"".concat(B,"-status-text")},[P]),_="object"===v(k)||void 0===k&&u.count?r(null!=k?k:null===(m=u.count)||void 0===m?void 0:m.call(u),{style:J},!1):null,F=e(B,(s(n={},"".concat(B,"-status"),j.value),s(n,"".concat(B,"-not-a-wrapper"),!E),s(n,"".concat(B,"-rtl"),"rtl"===C.value),n),d.class);if(!E&&j.value){var G=J.color;return h("span",l(l({},d),{},{class:F,style:J}),[h("span",{class:R.value,style:Z.value},null),h("span",{style:{color:G},class:"".concat(B,"-status-text")},[P])])}var H=f(E?"".concat(B,"-zoom"):"",{appear:!1}),K=t(t({},J),o.numberStyle);return x&&!V(x)&&((K=K||{}).background=x),h("span",l(l({},d),{},{class:F}),[E,h(p,H,{default:function(){return[O(h(T,{prefixCls:o.scrollNumberPrefixCls,show:D,class:q.value,count:I.value,title:M,style:K,key:"scrollNumber"},{default:function(){return[_]}}),[[w,D]])]}}),Y])}}});export{k as B,B as R};

import{u as e}from"./style.module.eb8b70b9.js";import{l as t,s as r}from"./oauth.fb787a89.js";import{i as a,m as l,d as o,k as n,l as i,n as s,p as u,j as c}from"./vendor.13fa0854.js";import{F as m}from"./Form.c4f6de1b.js";import{R as d,C as p}from"./index.cc37a535.js";import{T as b}from"./tabs.b235e8bb.js";import{A as f}from"./index.b2c8bcb2.js";import"./index.88307971.js";import{I as v}from"./Input.7913cdd1.js";import{U as g}from"./UserOutlined.82710769.js";import{A as j}from"./debounce.7c4b284f.js";import"./index.609eb52b.js";import{B as y}from"./button.2d27e495.js";import"./index.fa6786fd.js";import"./createChainedFunction.2d5d7d53.js";import"./ExclamationCircleFilled.5fde2de7.js";import"./CloseCircleFilled.b1621eba.js";import"./LoadingOutlined.13f3bbc7.js";import"./CloseCircleOutlined.d00e7753.js";import"./InfoCircleOutlined.9aac814c.js";import"./code.aa7872b2.js";import"./index.e1194c8f.js";import"./SearchOutlined.9b6d07cd.js";import"./_Set.dfe4feb5.js";import"./Col.74b7851b.js";import"./_setToArray.6911d488.js";import"./isArrayLikeObject.629c4221.js";import"./_baseProperty.74f89655.js";import"./toInteger.002511f8.js";import"./initDefaultProps.037e10c6.js";import"./useSize.ea26a3f4.js";import"./LeftOutlined.55549e0c.js";import"./index.9563d230.js";import"./antInputDirective.dcf4b893.js";import"./wave.b2e2f908.js";m.install=function(e){return e.component(m.name,m),e.component(m.Item.name,m.Item),e};var h={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"};function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var w=function(e,t){var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?Object(arguments[t]):{},a=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),a.forEach((function(t){O(e,t,r[t])}))}return e}({},e,t.attrs);return a(j,l(r,{icon:h}),null)};w.displayName="LockOutlined",w.inheritAttrs=!1;var x=w,z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"}}]},name:"mail",theme:"outlined"};function P(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var C=function(e,t){var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?Object(arguments[t]):{},a=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),a.forEach((function(t){P(e,t,r[t])}))}return e}({},e,t.attrs);return a(j,l(r,{icon:z}),null)};C.displayName="MailOutlined",C.inheritAttrs=!1;var I=C,k={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M744 62H280c-35.3 0-64 28.7-64 64v768c0 35.3 28.7 64 64 64h464c35.3 0 64-28.7 64-64V126c0-35.3-28.7-64-64-64zm-8 824H288V134h448v752zM472 784a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"mobile",theme:"outlined"};function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var M=function(e,t){var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?Object(arguments[t]):{},a=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),a.forEach((function(t){S(e,t,r[t])}))}return e}({},e,t.attrs);return a(j,l(r,{icon:k}),null)};M.displayName="MobileOutlined",M.inheritAttrs=!1;var V=M;var _="_user-layout-login_cbx13_1",q="_login-button_cbx13_12",A=o({setup(){const l=n(),o=i(),j=s({username:"admin",password:"123",mobile:"",captcha:""}),h=i(!1),O=i("tab1"),w=i(!1),z=i(!1),P=async()=>{var e;await(null==(e=null==o?void 0:o.value)?void 0:e.validate()),z.value=!0,t(j).then((e=>{r(e)&&l.push("/"),z.value=!1})).catch((()=>{h.value=!0})).finally((()=>{z.value=!1}))},C=u((()=>"tab1"===O.value?{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],mobile:[{required:!1}],captcha:[{required:!1}]}:{username:[{required:!1}],password:[{required:!1}],mobile:[{required:!0,message:"请输入手机号",trigger:"blur"}],captcha:[{required:!0,message:"请输入验证码",trigger:"blur"}]}));return()=>a("div",{class:e.main},[a(m,{class:_,ref:o,model:j,layout:"vertical",rules:C.value},{default:()=>[a(b,{activeKey:O.value,tabBarStyle:{textAlign:"center",borderBottom:"unset"},onChange:e=>{O.value=e}},{default:()=>[a(b.TabPane,{key:"tab1",tab:"账户密码登陆"},{default:()=>[h.value&&a(f,{type:"error",showIcon:!0,style:"margin-bottom: 24px;",message:"用户名或密码错误"},null),a(m.Item,{name:"username"},{default:()=>[a(v,{size:"large",type:"text",placeholder:"用户名:admin或user",value:j.username,"onUpdate:value":e=>j.username=e,prefix:a(g,{style:{color:"rgba(0,0,0,.25)"}},null)},null)]}),a(m.Item,{name:"password"},{default:()=>[a(v.Password,{size:"large",placeholder:"密码:123",value:j.password,"onUpdate:value":e=>j.password=e,prefix:a(x,{style:{color:"rgba(0,0,0,.25)"}},null)},null)]})]}),a(b.TabPane,{key:"tab2",tab:"手机号登陆"},{default:()=>[a(m.Item,{name:"mobile"},{default:()=>[a(v,{size:"large",type:"text",placeholder:"手机号",value:j.mobile,"onUpdate:value":e=>j.mobile=e,prefix:a(V,{style:{color:"rgba(0,0,0,.25)"}},null)},null)]}),a(d,{gutter:16},{default:()=>[a(p,{span:16},{default:()=>[a(m.Item,{name:"captcha"},{default:()=>[a(v,{size:"large",type:"text",placeholder:"验证码",value:j.captcha,"onUpdate:value":e=>j.captcha=e,prefix:a(I,{style:{color:"rgba(0,0,0,.25)"}},null)},null)]})]}),a(p,{span:8},{default:()=>[a(y,{size:"large",disabled:w.value,onClick:()=>{w.value=!0,setTimeout((()=>{w.value=!1}),1e3)}},{default:()=>[w.value?"发送中":"获取验证码"]})]})]})]})]}),a(y,{size:"large",type:"primary",class:q,loading:z.value,onClick:P},{default:()=>[c("登陆")]})]})])}});export{A as default};

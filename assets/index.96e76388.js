import{B as t,P as i,m as e,A as n,g as s,_ as c,F as o,a,e as r,f as l,c as f,j as h,t as d,d as p,C as u}from"./debounce.53224f53.js";import{i as m}from"./initDefaultProps.e3db526a.js";import{d as g,i as v,k as x}from"./vendor.6f72d5fc.js";import{C}from"./CheckOutlined.ea314fd5.js";function S(){if("undefined"!=typeof window&&window.document&&window.document.documentElement){var t=window.document.documentElement;return"flex"in t.style||"webkitFlex"in t.style||"Flex"in t.style||"msFlex"in t.style}return!1}var b=g({name:"Steps",mixins:[t],props:{type:i.string.def("default"),prefixCls:i.string.def("rc-steps"),iconPrefix:i.string.def("rc"),direction:i.string.def("horizontal"),labelPlacement:i.string.def("horizontal"),status:i.string.def("process"),size:i.string.def(""),progressDot:e(i.oneOfType([i.looseBool,i.func])),initial:i.number.def(0),current:i.number.def(0),icons:i.shape({finish:i.any,error:i.any}).loose,canClick:i.looseBool},data:function(){return this.calcStepOffsetWidth=n(this.calcStepOffsetWidth,150),{flexSupported:!0,lastStepOffsetWidth:0}},mounted:function(){var t=this;this.$nextTick((function(){t.calcStepOffsetWidth(),S()||t.setState({flexSupported:!1})}))},updated:function(){var t=this;this.$nextTick((function(){t.calcStepOffsetWidth()}))},beforeUnmount:function(){this.calcTimeout&&clearTimeout(this.calcTimeout),this.calcStepOffsetWidth&&this.calcStepOffsetWidth.cancel&&this.calcStepOffsetWidth.cancel()},methods:{onStepClick:function(t){this.$props.current!==t&&this.__emit("change",t)},calcStepOffsetWidth:function(){var t=this;if(!S()){var i=this.$data.lastStepOffsetWidth,e=this.$refs.vcStepsRef;e.children.length>0&&(this.calcTimeout&&clearTimeout(this.calcTimeout),this.calcTimeout=setTimeout((function(){var n=(e.lastChild.offsetWidth||0)+1;i===n||Math.abs(i-n)<=3||t.setState({lastStepOffsetWidth:n})})))}}},render:function(){var t,i=this,e=this.prefixCls,n=this.direction,l=this.type,f=this.labelPlacement,h=this.iconPrefix,d=this.status,p=this.size,u=this.current,m=this.progressDot,g=this.initial,x=this.icons,C=this.canClick,S="navigation"===l,b=this.lastStepOffsetWidth,y=this.flexSupported,k=s(this),O=k.length-1,P=m?"vertical":f,W=(c(t={},e,!0),c(t,"".concat(e,"-").concat(n),!0),c(t,"".concat(e,"-").concat(p),p),c(t,"".concat(e,"-label-").concat(P),"horizontal"===n),c(t,"".concat(e,"-dot"),!!m),c(t,"".concat(e,"-navigation"),S),c(t,"".concat(e,"-flex-not-supported"),!y),t);return v("div",{class:W,ref:"vcStepsRef"},[k.map((function(t,s){var c=o(t),l=g+s,f=a({stepNumber:"".concat(l+1),stepIndex:l,prefixCls:e,iconPrefix:h,progressDot:m,icons:x},c);return C&&(f.onStepClick=i.onStepClick),y||"vertical"===n||(S?(f.itemWidth="".concat(100/(O+1),"%"),f.adjustMarginRight=0):s!==O&&(f.itemWidth="".concat(100/O,"%"),f.adjustMarginRight="".concat(-Math.round(b/O+1),"px"))),"error"===d&&s===u-1&&(f.class="".concat(e,"-next-error")),c.status||(f.status=l===u?d:l<u?"finish":"wait"),f.active=l===u,r(t,f)}))])}});function y(t){return"string"==typeof t}function k(){}var O=g({name:"Step",mixins:[t],props:{prefixCls:i.string,wrapperStyle:i.object,itemWidth:i.string,active:i.looseBool,disabled:i.looseBool,status:i.string,iconPrefix:i.string,icon:i.any,adjustMarginRight:i.string,stepNumber:i.string,stepIndex:i.number,description:i.any,title:i.any,subTitle:i.any,progressDot:e(i.oneOfType([i.looseBool,i.func])),tailContent:i.any,icons:i.shape({finish:i.any,error:i.any}).loose,onClick:i.func,onStepClick:i.func},methods:{onItemClick:function(){for(var t=arguments.length,i=new Array(t),e=0;e<t;e++)i[e]=arguments[e];this.__emit.apply(this,["click"].concat(i)),this.__emit("stepClick",this.stepIndex)},renderIconNode:function(){var t,i=l(this),e=i.prefixCls,n=i.stepNumber,s=i.status,o=i.iconPrefix,a=i.icons,r=i.progressDot,h=f(this,"icon"),d=f(this,"title"),p=f(this,"description"),u=(c(t={},"".concat(e,"-icon"),!0),c(t,"".concat(o,"icon"),!0),c(t,"".concat(o,"icon-").concat(h),h&&y(h)),c(t,"".concat(o,"icon-check"),!h&&"finish"===s&&a&&!a.finish),c(t,"".concat(o,"icon-close"),!h&&"error"===s&&a&&!a.error),t),m=v("span",{class:"".concat(e,"-icon-dot")},null);return r?v("span",{class:"".concat(e,"-icon")},"function"==typeof r?[r({index:n-1,status:s,title:d,description:p,prefixCls:e})]:[m]):h&&!y(h)?v("span",{class:"".concat(e,"-icon")},[h]):a&&a.finish&&"finish"===s?v("span",{class:"".concat(e,"-icon")},[a.finish]):a&&a.error&&"error"===s?v("span",{class:"".concat(e,"-icon")},[a.error]):h||"finish"===s||"error"===s?v("span",{class:u},null):v("span",{class:"".concat(e,"-icon")},[n])}},render:function(){var t,i=l(this),e=i.prefixCls,n=i.itemWidth,s=i.active,o=i.status,a=void 0===o?"wait":o,r=i.tailContent,d=i.adjustMarginRight,p=i.disabled,u=i.onClick,m=i.onStepClick,g=f(this,"title"),x=f(this,"subTitle"),C=f(this,"description"),S={class:(c(t={},"".concat(e,"-item"),!0),c(t,"".concat(e,"-item-").concat(a),!0),c(t,"".concat(e,"-item-custom"),f(this,"icon")),c(t,"".concat(e,"-item-active"),s),c(t,"".concat(e,"-item-disabled"),!0===p),t)},b={};n&&(b.width=n),d&&(b.marginRight=d);var y={onClick:u||k};return m&&!p&&(y.role="button",y.tabindex=0,y.onClick=this.onItemClick),v("div",h(h({},S),{},{style:b}),[v("div",h(h({},y),{},{class:"".concat(e,"-item-container")}),[v("div",{class:"".concat(e,"-item-tail")},[r]),v("div",{class:"".concat(e,"-item-icon")},[this.renderIconNode()]),v("div",{class:"".concat(e,"-item-content")},[v("div",{class:"".concat(e,"-item-title")},[g,x&&v("div",{title:x,class:"".concat(e,"-item-subtitle")},[x])]),C&&v("div",{class:"".concat(e,"-item-description")},[C])])])])}});b.Step=O;var P=g({name:"ASteps",inheritAttrs:!1,props:m({prefixCls:i.string,iconPrefix:i.string,current:i.number,initial:i.number,labelPlacement:i.oneOf(d("horizontal","vertical")).def("horizontal"),status:i.oneOf(d("wait","process","finish","error")),size:i.oneOf(d("default","small")),direction:i.oneOf(d("horizontal","vertical")),progressDot:e(i.oneOfType([i.looseBool,i.func])),type:i.oneOf(d("default","navigation")),onChange:i.func,"onUpdate:current":i.func},{current:0}),emits:["update:current","change"],setup:function(){return{configProvider:x("configProvider",p)}},Step:a(a({},b.Step),{name:"AStep"}),methods:{handleChange:function(t){this.$emit("update:current",t),this.$emit("change",t)}},render:function(){var t=this,i=a(a({},l(this)),this.$attrs),e=i.prefixCls,n=i.iconPrefix,c=this.configProvider.getPrefixCls,o=c("steps",e),r=c("",n),h=f(this,"progressDot",this,!1),d={finish:v(C,{class:"".concat(o,"-finish-icon")},null),error:v(u,{class:"".concat(o,"-error-icon")},null)},p=a(a({icons:d,iconPrefix:r,prefixCls:o,progressDot:h},i),{canClick:!(!this.onChange&&!this["onUpdate:current"]),onChange:this.handleChange});return v(b,p,{default:function(){return[s(t)]}})}});P.install=function(t){return t.component(P.name,P),t.component(P.Step.name,P.Step),t},P.Step;export{P as S};

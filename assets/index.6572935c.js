import{d as e,e as t,x as i,c as a,a as l,i as r,F as o}from"./index.a3c59761.js";import{P as d,a as n}from"./Content.7b3086c2.js";import"./index.96161519.js";import{R as s}from"./oauth.638bcc8a.js";import{f as m}from"./index.7e3d5947.js";import{A as u}from"./index.e1e4552c.js";import{C as c}from"./index.c9a230bf.js";import{D as p}from"./index.6eb9c69a.js";import{D as f}from"./index.88958b76.js";import{T as b}from"./index.68bf9fb7.js";import{B as j}from"./index.be94610f.js";import"./vendor.60046542.js";import"./index.6b2be0ed.js";import"./createChainedFunction.2d5d7d53.js";import"./ExclamationCircleFilled.2d539c71.js";import"./CloseCircleFilled.9fc165ea.js";import"./LoadingOutlined.baa40532.js";import"./InfoCircleOutlined.f1f0c4e5.js";import"./code.aa7872b2.js";import"./index.9165d8d7.js";import"./dropdown.0d5adbc2.js";import"./Trigger.2cd5122c.js";import"./index.1208e68c.js";import"./wave.8e0ebcde.js";import"./Event.c36f22c9.js";import"./LeftOutlined.d17130ff.js";import"./EllipsisOutlined.b988671c.js";import"./index.b104de55.js";import"./isEqual.7006af20.js";import"./_Uint8Array.53f089f2.js";import"./colors.949efb24.js";import"./index.57ef1797.js";import"./transButton.54f07b12.js";import"./index.21e66a06.js";import"./index.887f267e.js";import"./Col.a519bc7d.js";import"./shallowequal.4c093828.js";import"./index.2bbab40b.js";import"./identity.2c89a54f.js";import"./index.a15c8ff5.js";import"./SearchOutlined.27a87ca0.js";import"./initDefaultProps.f4792837.js";import"./CheckOutlined.b5e72f1d.js";import"./get.f655d6c1.js";import"./index.dee87205.js";import"./index.1228aa55.js";import"./isNumeric.2bec345d.js";function x(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!r(e)}var h=e({setup(){const e=t([{id:"pickUpNo",label:"取货单号",value:""},{id:"state",label:"状态",value:""},{id:"saleNo",label:"销售单号",value:""},{id:"childNo",label:"子订单",value:""}]),r=t([{id:"name",label:"用户姓名",value:""},{id:"tel",label:"联系电话",value:""},{id:"express",label:"常用快递",value:""},{id:"address",label:"取货地址",value:""},{id:"mark",label:"备注",value:""}]),h=({text:e,record:t})=>"总计"!==t.no?e:void 0,w=t([{title:"商品编号",dataIndex:"no",width:100,customRender:({text:e})=>a("a",null,[e])},{title:"商品名称",dataIndex:"name",width:120,customRender:h},{title:"商品条码",dataIndex:"barCode",width:150,customRender:h},{title:"单价",dataIndex:"price",width:100,customRender:h},{title:"数量",dataIndex:"number",width:100,customRender:({text:e,record:t})=>"总计"!==t.no?e:a("span",{style:"color:red"},[e])},{title:"金额",dataIndex:"amount",width:100}]),v=t([{title:"时间",dataIndex:"time",width:200,customRender:({text:e})=>m(Number(e))},{title:"当前进度",dataIndex:"process",width:150},{title:"状态",dataIndex:"state",width:100,customRender:({text:e})=>a(j,{status:"完成"===e?"success":"processing",text:e},null)},{title:"操作员ID",dataIndex:"userId",width:100},{title:"耗时",dataIndex:"timeConsuming",width:100}]),g=t([]),I=t([]);return i((async()=>{const{refund:t,userInfo:i}=await async function(){return s({url:"/profile/basic",method:"POST"})}(),{list:a}=await async function(){return s({url:"/profile/basic/return-gogds",method:"POST"})}(),{list:l}=await async function(){return s({url:"/profile/basic/return-process",method:"POST"})}();e.splice(0,e.length,...e.map((e=>{const i=e;return i.value=t[e.id],i}))),r.splice(0,r.length,...r.map((e=>{const t=e;return t.value=i[e.id],t}))),g.splice(0,g.length,...a,{id:0,no:"总计",name:"",barCode:0,price:0,number:a.map((e=>e.number)).reduce(((e,t)=>e+t)),amount:a.map((e=>e.amount)).reduce(((e,t)=>e+t))}),I.splice(0,I.length,...l)})),()=>{let t,i;return a(o,null,[a(d,null,{default:()=>[a(u,null,{default:()=>[l("基础详情页")]})]}),a(n,null,{default:()=>[a(c,null,{default:()=>[a(p,{title:"退款申请"},x(t=e.map((e=>a(p.Item,{label:e.label},{default:()=>[e.value]}))))?t:{default:()=>[t]}),a(f,null,null),a(p,{title:"用户信息"},x(i=r.map((e=>a(p.Item,{label:e.label},{default:()=>[e.value]}))))?i:{default:()=>[i]}),a(f,null,null),a(b,{rowKey:"id",style:{"margin-bottom":"24px"},scroll:{x:"100%"},title:()=>"退货商品",columns:w,dataSource:g,pagination:!1},null),a(b,{rowKey:"id",style:{"margin-bottom":"24px"},scroll:{x:"100%"},title:()=>"退货进度",columns:v,dataSource:I,pagination:!1},null)]})]})])}}});export default h;

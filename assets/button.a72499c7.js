import{P as t,t as e,s as a,z as n,J as o,a as r,_ as l,j as i,o as u}from"./debounce.53224f53.js";import{W as s}from"./wave.fd760b9f.js";import{e as c}from"./_setToArray.9043b94f.js";import{L as f}from"./LoadingOutlined.fc56fea6.js";import{d,p as v,s as p,x as g,A as m,E as b,G as h,y,i as k,T as B}from"./vendor.6f72d5fc.js";var T=e("default","primary","ghost","dashed","link","text"),j=e("circle","round"),x=e("submit","button","reset");function w(t){return"danger"===t?{danger:!0}:{type:t}}var C=function(){return{prefixCls:t.string,type:t.oneOf(T),htmlType:t.oneOf(x).def("button"),shape:t.oneOf(j),size:{type:String},loading:{type:[Boolean,Object],default:function(){return!1}},disabled:t.looseBool,ghost:t.looseBool,block:t.looseBool,danger:t.looseBool,icon:t.VNodeChild,href:t.string,target:t.string,title:t.string,onClick:{type:Function}}},O=/^[\u4e00-\u9fa5]{2}$/,A=O.test.bind(O);function _(t){return"text"===t||"link"===t}var z=d({name:"AButton",inheritAttrs:!1,__ANT_BUTTON:!0,props:C(),slots:["icon"],emits:["click"],setup:function(t,e){var d=e.slots,T=e.attrs,j=e.emit,x=a("btn",t),w=x.prefixCls,C=x.autoInsertSpaceInButton,O=x.direction,z=v(null),N=v(void 0),I=!1,L=v(!1),S=v(!1),D=p((function(){return!1!==C.value})),E=p((function(){return"object"===u(t.loading)&&t.loading.delay?t.loading.delay||!0:!!t.loading}));g(E,(function(t){clearTimeout(N.value),"number"==typeof E.value?N.value=window.setTimeout((function(){L.value=t}),E.value):L.value=t}),{immediate:!0});var F=p((function(){var e,a=t.type,n=t.shape,o=t.size,r=t.ghost,i=t.block,u=t.danger,s=w.value,c="";switch(o){case"large":c="lg";break;case"small":c="sm"}return l(e={},"".concat(s),!0),l(e,"".concat(s,"-").concat(a),a),l(e,"".concat(s,"-").concat(n),n),l(e,"".concat(s,"-").concat(c),c),l(e,"".concat(s,"-loading"),L.value),l(e,"".concat(s,"-background-ghost"),r&&!_(a)),l(e,"".concat(s,"-two-chinese-chars"),S.value&&D.value),l(e,"".concat(s,"-block"),i),l(e,"".concat(s,"-dangerous"),!!u),l(e,"".concat(s,"-rtl"),"rtl"===O.value),e})),G=function(){var t=z.value;if(t&&!1!==C.value){var e=t.textContent;I&&A(e)?S.value||(S.value=!0):S.value&&(S.value=!1)}},J=function(e){L.value||t.disabled?e.preventDefault():j("click",e)};return m((function(){c(!(t.ghost&&_(t.type)),"Button","`link` or `text` button can't be a `ghost` button.")})),b(G),h(G),y((function(){N.value&&clearTimeout(N.value)})),function(){var e=n(o(d,t)),a=o(d,t,"icon");I=1===e.length&&!a&&!_(t.type);var u=t.type,c=t.htmlType,v=t.disabled,p=t.href,g=t.title,m=t.target,b=L.value?"loading":a,h=r(r({},T),{title:g,disabled:v,class:[F.value,T.class,l({},"".concat(w.value,"-icon-only"),0===e.length&&!!b)],onClick:J}),y=L.value?k(f,null,null):a,j=e.map((function(t){return function(t,e){var a=e?" ":"";if(t.type===B){var n=t.children.trim();return A(n)&&(n=n.split("").join(a)),k("span",null,[n])}return t}(t,I&&D.value)}));if(void 0!==p)return k("a",i(i({},h),{},{href:p,target:m,ref:z}),[y,j]);var x=k("button",i(i({},h),{},{ref:z,type:c}),[y,j]);return _(u)?x:k(s,{ref:"wave"},{default:function(){return[x]}})}}});export{z as B,C as b,w as c};

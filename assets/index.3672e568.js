import{d as t,c as e,i as n,g as i}from"./index.c3f19612.js";import{B as o,P as c,q as r,e as s,o as a,k as l,d as f,g as u,t as p,C as h,l as d}from"./index.9abf7f01.js";import{i as m}from"./initDefaultProps.e4f80068.js";import{d as g}from"./LeftOutlined.3fa1ae45.js";import{C as b}from"./CheckOutlined.9d79bb98.js";function v(){if("undefined"!=typeof window&&window.document&&window.document.documentElement){var t=window.document.documentElement;return"flex"in t.style||"webkitFlex"in t.style||"Flex"in t.style||"msFlex"in t.style}return!1}function O(){return(O=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var x=t({name:"Steps",mixins:[o],props:{type:c.string.def("default"),prefixCls:c.string.def("rc-steps"),iconPrefix:c.string.def("rc"),direction:c.string.def("horizontal"),labelPlacement:c.string.def("horizontal"),status:c.string.def("process"),size:c.string.def(""),progressDot:r(c.oneOfType([c.looseBool,c.func])),initial:c.number.def(0),current:c.number.def(0),icons:c.shape({finish:c.any,error:c.any}).loose,canClick:c.looseBool},data:function(){return this.calcStepOffsetWidth=g(this.calcStepOffsetWidth,150),{flexSupported:!0,lastStepOffsetWidth:0}},mounted:function(){var t=this;this.$nextTick((function(){t.calcStepOffsetWidth(),v()||t.setState({flexSupported:!1})}))},updated:function(){var t=this;this.$nextTick((function(){t.calcStepOffsetWidth()}))},beforeUnmount:function(){this.calcTimeout&&clearTimeout(this.calcTimeout),this.calcStepOffsetWidth&&this.calcStepOffsetWidth.cancel&&this.calcStepOffsetWidth.cancel()},methods:{onStepClick:function(t){this.$props.current!==t&&this.__emit("change",t)},calcStepOffsetWidth:function(){var t=this;if(!v()){var e=this.$data.lastStepOffsetWidth,n=this.$refs.vcStepsRef;n.children.length>0&&(this.calcTimeout&&clearTimeout(this.calcTimeout),this.calcTimeout=setTimeout((function(){var i=(n.lastChild.offsetWidth||0)+1;e===i||Math.abs(e-i)<=3||t.setState({lastStepOffsetWidth:i})})))}}},render:function(){var t,n=this,i=this.prefixCls,o=this.direction,c=this.type,r=this.labelPlacement,f=this.iconPrefix,u=this.status,p=this.size,h=this.current,d=this.progressDot,m=this.initial,g=this.icons,b=this.canClick,v="navigation"===c,x=this.lastStepOffsetWidth,S=this.flexSupported,C=s(this),j=C.length-1,P=d?"vertical":r,w=(y(t={},i,!0),y(t,"".concat(i,"-").concat(o),!0),y(t,"".concat(i,"-").concat(p),p),y(t,"".concat(i,"-label-").concat(P),"horizontal"===o),y(t,"".concat(i,"-dot"),!!d),y(t,"".concat(i,"-navigation"),v),y(t,"".concat(i,"-flex-not-supported"),!S),t);return e("div",{class:w,ref:"vcStepsRef"},[C.map((function(t,e){var c=a(t),r=m+e,s=O({stepNumber:"".concat(r+1),stepIndex:r,prefixCls:i,iconPrefix:f,progressDot:d,icons:g},c);return b&&(s.onStepClick=n.onStepClick),S||"vertical"===o||(v?(s.itemWidth="".concat(100/(j+1),"%"),s.adjustMarginRight=0):e!==j&&(s.itemWidth="".concat(100/j,"%"),s.adjustMarginRight="".concat(-Math.round(x/j+1),"px"))),"error"===u&&e===h-1&&(s.class="".concat(i,"-next-error")),c.status||(s.status=r===h?u:r<h?"finish":"wait"),s.active=r===h,l(t,s)}))])}});function S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function C(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S(Object(n),!0).forEach((function(e){j(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function j(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P(t){return"function"==typeof t||"[object Object]"===Object.prototype.toString.call(t)&&!n(t)}function w(t){return"string"==typeof t}function k(){}var W=t({name:"Step",mixins:[o],props:{prefixCls:c.string,wrapperStyle:c.object,itemWidth:c.string,active:c.looseBool,disabled:c.looseBool,status:c.string,iconPrefix:c.string,icon:c.any,adjustMarginRight:c.string,stepNumber:c.string,stepIndex:c.number,description:c.any,title:c.any,subTitle:c.any,progressDot:r(c.oneOfType([c.looseBool,c.func])),tailContent:c.any,icons:c.shape({finish:c.any,error:c.any}).loose,onClick:c.func,onStepClick:c.func},methods:{onItemClick:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.__emit.apply(this,["click"].concat(e)),this.__emit("stepClick",this.stepIndex)},renderIconNode:function(){var t,n=f(this),i=n.prefixCls,o=n.stepNumber,c=n.status,r=n.iconPrefix,s=n.icons,a=n.progressDot,l=u(this,"icon"),p=u(this,"title"),h=u(this,"description"),d=(j(t={},"".concat(i,"-icon"),!0),j(t,"".concat(r,"icon"),!0),j(t,"".concat(r,"icon-").concat(l),l&&w(l)),j(t,"".concat(r,"icon-check"),!l&&"finish"===c&&s&&!s.finish),j(t,"".concat(r,"icon-close"),!l&&"error"===c&&s&&!s.error),t),m=e("span",{class:"".concat(i,"-icon-dot")},null);return a?e("span",{class:"".concat(i,"-icon")},"function"==typeof a?[a({index:o-1,status:c,title:p,description:h,prefixCls:i})]:P(m)?m:{default:function(){return[m]}}):l&&!w(l)?e("span",{class:"".concat(i,"-icon")},P(l)?l:{default:function(){return[l]}}):s&&s.finish&&"finish"===c?e("span",{class:"".concat(i,"-icon")},[s.finish]):s&&s.error&&"error"===c?e("span",{class:"".concat(i,"-icon")},[s.error]):l||"finish"===c||"error"===c?e("span",{class:d},null):e("span",{class:"".concat(i,"-icon")},P(o)?o:{default:function(){return[o]}})}},render:function(){var t,n=f(this),i=n.prefixCls,o=n.itemWidth,c=n.active,r=n.status,s=void 0===r?"wait":r,a=n.tailContent,l=n.adjustMarginRight,p=n.disabled,h=n.onClick,d=n.onStepClick,m=u(this,"title"),g=u(this,"subTitle"),b=u(this,"description"),v={class:(j(t={},"".concat(i,"-item"),!0),j(t,"".concat(i,"-item-").concat(s),!0),j(t,"".concat(i,"-item-custom"),u(this,"icon")),j(t,"".concat(i,"-item-active"),c),j(t,"".concat(i,"-item-disabled"),!0===p),t)},O={};o&&(O.width=o),l&&(O.marginRight=l);var y={onClick:h||k};return d&&!p&&(y.role="button",y.tabindex=0,y.onClick=this.onItemClick),e("div",C(C({},v),{},{style:O}),[e("div",C(C({},y),{},{class:"".concat(i,"-item-container")}),[e("div",{class:"".concat(i,"-item-tail")},P(a)?a:{default:function(){return[a]}}),e("div",{class:"".concat(i,"-item-icon")},[this.renderIconNode()]),e("div",{class:"".concat(i,"-item-content")},[e("div",{class:"".concat(i,"-item-title")},[m,g&&e("div",{title:g,class:"".concat(i,"-item-subtitle")},P(g)?g:{default:function(){return[g]}})]),b&&e("div",{class:"".concat(i,"-item-description")},P(b)?b:{default:function(){return[b]}})])])])}});function T(){return(T=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}x.Step=W;var D=t({name:"ASteps",inheritAttrs:!1,props:m({prefixCls:c.string,iconPrefix:c.string,current:c.number,initial:c.number,labelPlacement:c.oneOf(p("horizontal","vertical")).def("horizontal"),status:c.oneOf(p("wait","process","finish","error")),size:c.oneOf(p("default","small")),direction:c.oneOf(p("horizontal","vertical")),progressDot:r(c.oneOfType([c.looseBool,c.func])),type:c.oneOf(p("default","navigation")),onChange:c.func,"onUpdate:current":c.func},{current:0}),emits:["update:current","change"],setup:function(){return{configProvider:i("configProvider",d)}},Step:T(T({},x.Step),{name:"AStep"}),methods:{handleChange:function(t){this.$emit("update:current",t),this.$emit("change",t)}},render:function(){var t,i,o=T(T({},f(this)),this.$attrs),c=o.prefixCls,r=o.iconPrefix,a=this.configProvider.getPrefixCls,l=a("steps",c),p=a("",r),d=u(this,"progressDot",this,!1),m=T(T({icons:{finish:e(b,{class:"".concat(l,"-finish-icon")},null),error:e(h,{class:"".concat(l,"-error-icon")},null)},iconPrefix:p,prefixCls:l,progressDot:d},o),{canClick:!(!this.onChange&&!this["onUpdate:current"]),onChange:this.handleChange});return e(x,m,"function"==typeof(i=t=s(this))||"[object Object]"===Object.prototype.toString.call(i)&&!n(i)?t:{default:function(){return[t]}})}});D.install=function(t){return t.component(D.name,D),t.component(D.Step.name,D.Step),t};export{D as S};

import{k as e,P as a,n as t,j as n,g as l,d as o,o as i,a8 as r,a7 as u,t as c,A as s,_ as v,b as d,a as m,O as p}from"./debounce.67102cb7.js";import{p as f,P as g,S as y}from"./index.83081dc5.js";import{C as b,A as h}from"./Col.9fc09512.js";import{u as x}from"./useBreakpoint.b2479951.js";import{d as S,i as I,s as O,l as j,t as C,a2 as L,p as w,w as z}from"./vendor.1bd2b8e6.js";import{i as M}from"./initDefaultProps.472cb804.js";var A=S({name:"AListItemMeta",props:{avatar:a.any,description:a.any,prefixCls:a.string,title:a.any},displayName:"AListItemMeta",__ANT_LIST_ITEM_META:!0,slots:["avatar","description","title"],setup:function(a,t){var n=t.slots,l=e("list",a).prefixCls;return function(){var e,t,o,i,r,u,c="".concat(l.value,"-item-meta"),s=null!==(e=a.title)&&void 0!==e?e:null===(t=n.title)||void 0===t?void 0:t.call(n),v=null!==(o=a.description)&&void 0!==o?o:null===(i=n.description)||void 0===i?void 0:i.call(n),d=null!==(r=a.avatar)&&void 0!==r?r:null===(u=n.avatar)||void 0===u?void 0:u.call(n),m=I("div",{class:"".concat(l.value,"-item-meta-content")},[s&&I("h4",{class:"".concat(l.value,"-item-meta-title")},[s]),v&&I("div",{class:"".concat(l.value,"-item-meta-description")},[v])]);return I("div",{class:c},[d&&I("div",{class:"".concat(l.value,"-item-meta-avatar")},[d]),(s||v)&&m])}}}),k=Symbol("ListContextKey"),P=S({name:"AListItem",inheritAttrs:!1,Meta:A,props:{prefixCls:a.string,extra:a.any,actions:a.array,grid:a.any,colStyle:a.style},slots:["actions","extra"],setup:function(a,c){var s=c.slots,v=c.attrs,d=O(k,{grid:j(),itemLayout:j()}),m=d.itemLayout,p=d.grid,f=e("list",a).prefixCls,g=function(){var e,t,n=null!==(e=a.extra)&&void 0!==e?e:null===(t=s.extra)||void 0===t?void 0:t.call(s);return"vertical"===m.value?!!n:!function(){var e,a,t=(null===(e=s.default)||void 0===e?void 0:e.call(s))||[];return t.forEach((function(e){r(e)&&!u(e)&&(a=!0)})),a&&t.length>1}()};return function(){var e,r,u,c,d,y=v.class,h=function(e,a){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)a.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(t[n[l]]=e[n[l]])}return t}(v,["class"]),x=f.value,S=null!==(e=a.extra)&&void 0!==e?e:null===(r=s.extra)||void 0===r?void 0:r.call(s),O=null===(u=s.default)||void 0===u?void 0:u.call(s),j=null!==(c=a.actions)&&void 0!==c?c:t(null===(d=s.actions)||void 0===d?void 0:d.call(s)),C=(j=j&&!Array.isArray(j)?[j]:j)&&j.length>0&&I("ul",{class:"".concat(x,"-item-action"),key:"actions"},[j.map((function(e,a){return I("li",{key:"".concat(x,"-item-action-").concat(a)},[e,a!==j.length-1&&I("em",{class:"".concat(x,"-item-action-split")},null)])}))]),L=p.value?"div":"li",w=I(L,n(n({},h),{},{class:l("".concat(x,"-item"),o({},"".concat(x,"-item-no-flex"),!g()),y)}),{default:function(){return["vertical"===m.value&&S?[I("div",{class:"".concat(x,"-item-main"),key:"content"},[O,C]),I("div",{class:"".concat(x,"-item-extra"),key:"extra"},[S])]:[O,C,i(S,{key:"extra"})]]}});return p.value?I(b,{flex:1,style:a.colStyle},{default:function(){return[w]}}):w}}}),T={gutter:a.number,column:a.number,xs:a.number,sm:a.number,md:a.number,lg:a.number,xl:a.number,xxl:a.number},K=c("small","default","large"),_=S({name:"AList",Item:P,props:M({bordered:a.looseBool,dataSource:a.array,extra:a.any,grid:a.shape(T).loose,itemLayout:a.oneOf(c("horizontal","vertical")),loading:s(a.oneOfType([a.looseBool,a.object])),loadMore:a.any,pagination:s(a.oneOfType([a.shape(f()).loose,a.looseBool])),prefixCls:a.string,rowKey:a.any,renderItem:a.any,size:a.oneOf(K),split:a.looseBool,header:a.any,footer:a.any,locale:{type:Object}},{dataSource:[],bordered:!1,split:!0,loading:!1,pagination:!1}),slots:["extra","loadMore","renderItem","header","footer"],setup:function(a,l){var i,r,u=l.slots;C(k,{grid:L(a,"grid"),itemLayout:L(a,"itemLayout")});var c={current:1,total:0},s=e("list",a),f=s.prefixCls,b=s.direction,S=s.renderEmpty,O=w((function(){return a.pagination&&"object"===d(a.pagination)?a.pagination:{}})),M=j(null!==(i=O.value.defaultCurrent)&&void 0!==i?i:1),A=j(null!==(r=O.value.defaultPageSize)&&void 0!==r?r:10);z(O,(function(){"current"in O.value&&(M.value=O.value.current),"pageSize"in O.value&&(A.value=O.value.pageSize)}));var P=function(e){return function(a,t){M.value=a,A.value=t,O.value[e]&&O.value[e](a,t)}},T=P("onChange"),K=P("onShowSizeChange"),_=w((function(){return"boolean"==typeof a.loading?{spinning:a.loading}:a.loading})),B=w((function(){return _.value&&_.value.spinning})),E=w((function(){var e="";switch(a.size){case"large":e="lg";break;case"small":e="sm"}return e})),N=w((function(){var e;return o(e={},"".concat(f.value),!0),o(e,"".concat(f.value,"-vertical"),"vertical"===a.itemLayout),o(e,"".concat(f.value,"-").concat(E.value),E.value),o(e,"".concat(f.value,"-split"),a.split),o(e,"".concat(f.value,"-bordered"),a.bordered),o(e,"".concat(f.value,"-loading"),B.value),o(e,"".concat(f.value,"-grid"),!!a.grid),o(e,"".concat(f.value,"-rtl"),"rtl"===b.value),e})),D=w((function(){var e=v(v(v({},c),{total:a.dataSource.length,current:M.value,pageSize:A.value}),a.pagination||{}),t=Math.ceil(e.total/e.pageSize);return e.current>t&&(e.current=t),e})),H=w((function(){var e=m(a.dataSource);return a.pagination&&a.dataSource.length>(D.value.current-1)*D.value.pageSize&&(e=m(a.dataSource).splice((D.value.current-1)*D.value.pageSize,D.value.pageSize)),e})),W=x(),q=w((function(){for(var e=0;e<p.length;e+=1){var a=p[e];if(W.value[a])return a}})),F=w((function(){if(a.grid){var e=q.value&&a.grid[q.value]?a.grid[q.value]:a.grid.column;return e?{width:"".concat(100/e,"%"),maxWidth:"".concat(100/e,"%")}:void 0}}));return function(){var e,l,i,r,c,s,d,m=null!==(e=a.loadMore)&&void 0!==e?e:null===(l=u.loadMore)||void 0===l?void 0:l.call(u),p=null!==(i=a.footer)&&void 0!==i?i:null===(r=u.footer)||void 0===r?void 0:r.call(u),b=null!==(c=a.header)&&void 0!==c?c:null===(s=u.header)||void 0===s?void 0:s.call(u),x=t(null===(d=u.default)||void 0===d?void 0:d.call(u)),O=[],j=!!(m||a.pagination||p),C=v(v({},N.value),o({},"".concat(f.value,"-something-after-last-item"),j)),L=a.pagination?I("div",{class:"".concat(f.value,"-pagination")},[I(g,n(n({},D.value),{},{onChange:T,onShowSizeChange:K}),null)]):null,w=B.value&&I("div",{style:{minHeight:"53px"}},null);if(H.value.length>0){var z=H.value.map((function(e,t){return function(e,t,n){var l,o,i=null!==(l=a.renderItem)&&void 0!==l?l:u.renderItem;return i?((o="function"==typeof a.rowKey?a.rowKey(t):"string"==typeof a.rowKey?t[a.rowKey]:t.key)||(o="list-item-".concat(n)),e[n]=o,i({item:t,index:n})):null}(O,e,t)})),M=z.map((function(e,a){return I("div",{key:O[a],style:F.value},[e])}));w=a.grid?I(h,{gutter:a.grid.gutter},{default:function(){return[M]}}):I("ul",{class:"".concat(f.value,"-items")},[z])}else x.length||B.value||(w=function(e){var t;return I("div",{class:"".concat(f.value,"-empty-text")},[(null===(t=a.locale)||void 0===t?void 0:t.emptyText)||e("List")])}(S.value));var A=D.value.position||"bottom";return I("div",{class:C},[("top"===A||"both"===A)&&L,b&&I("div",{class:"".concat(f.value,"-header")},[b]),I(y,_.value,{default:function(){return[w,x]}}),p&&I("div",{class:"".concat(f.value,"-footer")},[p]),m||("bottom"===A||"both"===A)&&L])}}});_.install=function(e){return e.component(_.name,_),e.component(_.Item.name,_.Item),e.component(_.Item.Meta.name,_.Item.Meta),e};export{_ as L};

import{B as K,P as i,J as x,F as I,x as _,o as T,Y as Q,s as j,_ as s,t as N,g as L,G as W,j as w,y as Z,c as ee,H as te}from"./debounce.63695ae7.js";import{T as ie}from"./Trigger.7768cff1.js";import{d as O,T as ne,a as l,k as G,p as z,j as re,h as oe}from"./index.e1409c94.js";import"./index.7b952c9e.js";import{b as ae,B as M}from"./button.6a459199.js";import{R as se}from"./LeftOutlined.38c21891.js";import{E as le}from"./EllipsisOutlined.90a80699.js";import{u as H,M as m,c as A,d as R}from"./Menu.fb13f539.js";var C={adjustX:1,adjustY:1},y=[0,0],pe={topLeft:{points:["bl","tl"],overflow:C,offset:[0,-4],targetOffset:y},topCenter:{points:["bc","tc"],overflow:C,offset:[0,-4],targetOffset:y},topRight:{points:["br","tr"],overflow:C,offset:[0,-4],targetOffset:y},bottomLeft:{points:["tl","bl"],overflow:C,offset:[0,4],targetOffset:y},bottomCenter:{points:["tc","bc"],overflow:C,offset:[0,4],targetOffset:y},bottomRight:{points:["tr","br"],overflow:C,offset:[0,4],targetOffset:y}},ue=pe,fe=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t},ce=O({mixins:[K],props:{minOverlayWidthMatchTrigger:i.looseBool,prefixCls:i.string.def("rc-dropdown"),transitionName:i.string,overlayClassName:i.string.def(""),openClassName:i.string,animation:i.any,align:i.object,overlayStyle:i.object.def(function(){return{}}),placement:i.string.def("bottomLeft"),overlay:i.any,trigger:i.oneOfType([i.string,i.arrayOf(i.string)]).def("hover"),alignPoint:i.looseBool,showAction:i.array,hideAction:i.array,getPopupContainer:i.func,visible:i.looseBool,defaultVisible:i.looseBool.def(!1),mouseEnterDelay:i.number.def(.15),mouseLeaveDelay:i.number.def(.1)},data:function(){var e=this.defaultVisible;return x(this,"visible")&&(e=this.visible),{sVisible:e}},watch:{visible:function(e){e!==void 0&&this.setState({sVisible:e})}},methods:{onClick:function(e){var t=this.getOverlayElement().props;x(this,"visible")||this.setState({sVisible:!1}),this.__emit("overlayClick",e),t.onClick&&t.onClick(e)},onVisibleChange:function(e){x(this,"visible")||this.setState({sVisible:e}),this.__emit("update:visible",e),this.__emit("visibleChange",e)},getMinOverlayWidthMatchTrigger:function(){var e=I(this),t=e.minOverlayWidthMatchTrigger,r=e.alignPoint;return"minOverlayWidthMatchTrigger"in e?t:!r},getOverlayElement:function(){var e=_(this,"overlay");return Array.isArray(e)?e[0]:e},getMenuElement:function(){var e=this,t=this.onClick,r=this.prefixCls,o=this.getOverlayElement(),a={prefixCls:"".concat(r,"-menu"),getPopupContainer:function(){return e.getPopupDomNode()},onClick:t};return o&&o.type===ne&&delete a.prefixCls,T(o,a)},getMenuElementOrLambda:function(){var e=this.overlay||this.$slots.overlay;return typeof e=="function"?this.getMenuElement:this.getMenuElement()},getPopupDomNode:function(){return this.triggerRef.getPopupDomNode()},getOpenClassName:function(){var e=this.$props,t=e.openClassName,r=e.prefixCls;return t!==void 0?t:"".concat(r,"-open")},afterVisibleChange:function(e){if(e&&this.getMinOverlayWidthMatchTrigger()){var t=this.getPopupDomNode(),r=Q(this);r&&t&&r.offsetWidth>t.offsetWidth&&(t.style.minWidth="".concat(r.offsetWidth,"px"),this.triggerRef&&this.triggerRef._component&&this.triggerRef._component.alignInstance&&this.triggerRef._component.alignInstance.forceAlign())}},renderChildren:function(){var e=j(this),t=this.sVisible;return t&&e?T(e[0],{class:this.getOpenClassName()},!1):e},saveTrigger:function(e){this.triggerRef=e}},render:function(){var e=this,t=this.$props,r=t.prefixCls,o=t.transitionName,a=t.animation,f=t.align,c=t.placement,p=t.getPopupContainer,g=t.showAction,u=t.hideAction,v=t.overlayClassName,d=t.overlayStyle,h=t.trigger,P=fe(t,["prefixCls","transitionName","animation","align","placement","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","trigger"]),b=u;!b&&h.indexOf("contextmenu")!==-1&&(b=["click"]);var V=s(s({},P),{prefixCls:r,popupClassName:v,popupStyle:d,builtinPlacements:ue,action:h,showAction:g,hideAction:b||[],popupPlacement:c,popupAlign:f,popupTransitionName:o,popupAnimation:a,popupVisible:this.sVisible,afterPopupVisibleChange:this.afterVisibleChange,getPopupContainer:p,onPopupVisibleChange:this.onVisibleChange,popup:this.getMenuElementOrLambda(),ref:this.saveTrigger});return l(ie,V,{default:function(){return[e.renderChildren()]}})}}),U=function(){return{trigger:{type:[Array,String],default:"hover"},overlay:i.any,visible:i.looseBool,disabled:i.looseBool,align:i.object,getPopupContainer:i.func,prefixCls:i.string,transitionName:i.string,placement:i.oneOf(N("topLeft","topCenter","topRight","bottomLeft","bottomCenter","bottomRight")),overlayClassName:i.string,overlayStyle:i.style,forceRender:i.looseBool,mouseEnterDelay:i.number,mouseLeaveDelay:i.number,openClassName:i.string,minOverlayWidthMatchTrigger:i.looseBool}},ge=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t},de=ae(),B=U(),ve=M.Group,he=s(s({},B),{type:i.oneOf(N("primary","ghost","dashed","danger","default")).def("default"),size:i.oneOf(N("small","large","default")).def("default"),htmlType:de.htmlType,href:i.string,disabled:i.looseBool,prefixCls:i.string,placement:B.placement.def("bottomRight"),icon:i.any,title:i.string,onClick:i.func,onVisibleChange:i.func,"onUpdate:visible":i.func}),me=O({name:"ADropdownButton",inheritAttrs:!1,props:he,emits:["click","visibleChange","update:visible"],setup:function(){return{configProvider:G("configProvider",W),popupRef:null}},created:function(){z("savePopupRef",this.savePopupRef)},methods:{savePopupRef:function(e){this.popupRef=e},handleClick:function(e){this.$emit("click",e)},handleVisibleChange:function(e){this.$emit("update:visible",e),this.$emit("visibleChange",e)}},render:function(){var e=this,t=s(s({},this.$props),this.$attrs),r=t.type,o=t.disabled;t.onClick;var a=t.htmlType,f=t.class,c=t.prefixCls;t.overlay;var p=t.trigger,g=t.align,u=t.visible;t.onVisibleChange;var v=t.placement,d=t.getPopupContainer,h=t.href,P=t.title,b=ge(t,["type","disabled","onClick","htmlType","class","prefixCls","overlay","trigger","align","visible","onVisibleChange","placement","getPopupContainer","href","title"]),V=_(this,"icon")||l(le,null,null),k=this.configProvider.getPopupContainer,F=this.configProvider.getPrefixCls,J=F("dropdown-button",c),E={align:g,disabled:o,trigger:o?[]:p,placement:v,getPopupContainer:d||k,onVisibleChange:this.handleVisibleChange};x(this,"visible")&&(E.visible=u);var X=s(s({},b),{class:L(J,f)});return l(ve,X,{default:function(){return[l(M,{type:r,disabled:o,onClick:e.handleClick,htmlType:a,href:h,title:P},{default:function(){return[j(e)]}}),l(be,w(w({},E),{},{overlay:_(e,"overlay")}),{default:function(){return[l(M,{type:r},{default:function(){return[V]}})]}})]}})}}),S=U(),Y=O({name:"ADropdown",inheritAttrs:!1,props:s(s({},S),{prefixCls:i.string,mouseEnterDelay:i.number.def(.15),mouseLeaveDelay:i.number.def(.1),placement:S.placement.def("bottomLeft"),onVisibleChange:i.func,"onUpdate:visible":i.func}),emits:["visibleChange","update:visible"],setup:function(){return{configProvider:G("configProvider",W),popupRef:null}},created:function(){z("savePopupRef",this.savePopupRef)},methods:{savePopupRef:function(e){this.popupRef=e},getTransitionName:function(){var e=this.$props,t=e.placement,r=t===void 0?"":t,o=e.transitionName;return o!==void 0?o:r.indexOf("top")>=0?"slide-down":"slide-up"},renderOverlay:function(e){var t=_(this,"overlay"),r=Array.isArray(t)?t[0]:t,o=r&&Z(r),a=o||{},f=a.selectable,c=f===void 0?!1:f,p=a.focusable,g=p===void 0?!0:p,u=function(){return l("span",{class:"".concat(e,"-menu-submenu-arrow")},[l(se,{class:"".concat(e,"-menu-submenu-arrow-icon")},null)])},v=ee(r)?re(r,{mode:"vertical",selectable:c,focusable:g,expandIcon:u}):t;return v},handleVisibleChange:function(e){this.$emit("update:visible",e),this.$emit("visibleChange",e)}},render:function(){var e,t=I(this),r=t.prefixCls,o=t.trigger,a=t.disabled,f=t.getPopupContainer,c=this.configProvider.getPopupContainer,p=this.configProvider.getPrefixCls,g=p("dropdown",r),u=j(this)[0],v=T(u,{class:L((e=u==null?void 0:u.props)===null||e===void 0?void 0:e.class,"".concat(g,"-trigger")),disabled:a}),d=a?[]:typeof o=="string"?[o]:o,h;d&&d.indexOf("contextmenu")!==-1&&(h=!0);var P=s(s(s({alignPoint:h},t),this.$attrs),{prefixCls:g,getPopupContainer:f||c,transitionName:this.getTransitionName(),trigger:d,overlay:this.renderOverlay(g),onVisibleChange:this.handleVisibleChange});return l(ce,P,{default:function(){return[v]}})}});Y.Button=me;var be=Y,Ce={title:i.VNodeChild},D=O({name:"AMenuItemGroup",inheritAttrs:!1,props:Ce,slots:["title"],setup:function(e,t){var r=t.slots,o=t.attrs,a=H(),f=a.prefixCls,c=oe(function(){return"".concat(f.value,"-item-group")});return function(){var p;return l("li",w(w({},o),{},{onClick:function(u){return u.stopPropagation()},class:c.value}),[l("div",{title:typeof e.title=="string"?e.title:void 0,class:"".concat(c.value,"-title")},[te(r,e,"title")]),l("ul",{class:"".concat(c.value,"-list")},[(p=r.default)===null||p===void 0?void 0:p.call(r)])])}}}),$=O({name:"AMenuDivider",setup:function(){var e=H(),t=e.prefixCls;return function(){return l("li",{class:"".concat(t.value,"-item-divider")},null)}}});m.install=function(n){return n.component(m.name,m),n.component(A.name,A),n.component(R.name,R),n.component($.name,$),n.component(D.name,D),n};m.Item=A;m.Divider=$;m.SubMenu=R;m.ItemGroup=D;export{be as D,me as a};

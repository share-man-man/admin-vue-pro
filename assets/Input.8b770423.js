import{P as r,t as w,g as h,d,x as g,o as y,_ as v,J as F,F as _,j as x,G as z}from"./debounce.b47df357.js";import{a as L}from"./antInputDirective.dcf4b893.js";import{o as j}from"./index.9563d230.js";import{d as $,i as f,t as W,z as B,C as O}from"./vendor.0aef34f5.js";import{C as K}from"./CloseCircleFilled.4ca4922c.js";var R={prefixCls:r.string,inputPrefixCls:r.string,defaultValue:r.oneOfType([r.string,r.number]),value:r.oneOfType([r.string,r.number]),placeholder:{type:[String,Number]},type:r.string.def("text"),name:r.string,size:{type:String},disabled:r.looseBool,readonly:r.looseBool,addonBefore:r.VNodeChild,addonAfter:r.VNodeChild,prefix:r.VNodeChild,suffix:r.VNodeChild,autofocus:r.looseBool,allowClear:r.looseBool,lazy:r.looseBool.def(!0),maxlength:r.number,loading:r.looseBool,onPressEnter:r.func,onKeydown:r.func,onKeyup:r.func,onFocus:r.func,onBlur:r.func,onChange:r.func,onInput:r.func,"onUpdate:value":r.func};function S(a){return!!(g(a,"prefix")||g(a,"suffix")||a.$props.allowClear)}var P=["text","input"],D=$({name:"ClearableLabeledInput",inheritAttrs:!1,props:{prefixCls:r.string,inputType:r.oneOf(w("text","input")),value:r.any,defaultValue:r.any,allowClear:r.looseBool,element:r.VNodeChild,handleReset:r.func,disabled:r.looseBool,size:r.oneOf(w("small","large","default")),suffix:r.VNodeChild,prefix:r.VNodeChild,addonBefore:r.VNodeChild,addonAfter:r.VNodeChild,readonly:r.looseBool,isFocused:r.looseBool},methods:{renderClearIcon:function(e){var t=this.$props,n=t.allowClear,s=t.value,o=t.disabled,i=t.readonly,l=t.inputType,u=t.handleReset;if(!n)return null;var p=!o&&!i&&s!==void 0&&s!==null&&s!=="",c=l===P[0]?"".concat(e,"-textarea-clear-icon"):"".concat(e,"-clear-icon");return f(K,{onClick:u,class:h(c,d({},"".concat(c,"-hidden"),!p)),role:"button"},null)},renderSuffix:function(e){var t=this.$props,n=t.suffix,s=t.allowClear;return n||s?f("span",{class:"".concat(e,"-suffix")},[this.renderClearIcon(e),n]):null},renderLabeledIcon:function(e,t){var n,s,o=this.$props,i=this.$attrs.style,l=this.renderSuffix(e);if(!S(this))return y(t,{value:o.value});var u=o.prefix?f("span",{class:"".concat(e,"-prefix")},[o.prefix]):null,p=h((s=this.$attrs)===null||s===void 0?void 0:s.class,"".concat(e,"-affix-wrapper"),(n={},d(n,"".concat(e,"-affix-wrapper-focused"),o.isFocused),d(n,"".concat(e,"-affix-wrapper-disabled"),o.disabled),d(n,"".concat(e,"-affix-wrapper-sm"),o.size==="small"),d(n,"".concat(e,"-affix-wrapper-lg"),o.size==="large"),d(n,"".concat(e,"-affix-wrapper-input-with-clear-btn"),o.suffix&&o.allowClear&&this.$props.value),n));return f("span",{class:p,style:i},[u,y(t,{style:null,value:o.value,class:A(e,o.size,o.disabled)}),l])},renderInputWithLabel:function(e,t){var n,s=this.$props,o=s.addonBefore,i=s.addonAfter,l=s.size,u=this.$attrs,p=u.style,c=u.class;if(!o&&!i)return t;var m="".concat(e,"-group"),C="".concat(m,"-addon"),b=o?f("span",{class:C},[o]):null,I=i?f("span",{class:C},[i]):null,N=h("".concat(e,"-wrapper"),d({},m,o||i)),T=h(c,"".concat(e,"-group-wrapper"),(n={},d(n,"".concat(e,"-group-wrapper-sm"),l==="small"),d(n,"".concat(e,"-group-wrapper-lg"),l==="large"),n));return f("span",{class:T,style:p},[f("span",{class:N},[b,y(t,{style:null}),I])])},renderTextAreaWithClearIcon:function(e,t){var n=this.$props,s=n.value,o=n.allowClear,i=this.$attrs,l=i.style,u=i.class;if(!o)return y(t,{value:s});var p=h(u,"".concat(e,"-affix-wrapper"),"".concat(e,"-affix-wrapper-textarea-with-clear-btn"));return f("span",{class:p,style:l},[y(t,{style:null,value:s}),this.renderClearIcon(e)])},renderClearableLabeledInput:function(){var e=this.$props,t=e.prefixCls,n=e.inputType,s=e.element;return n===P[0]?this.renderTextAreaWithClearIcon(t,s):this.renderInputWithLabel(t,this.renderLabeledIcon(t,s))}},render:function(){return this.renderClearableLabeledInput()}}),k=D;function U(a){return typeof a=="undefined"||a===null?"":a}function V(a,e,t){if(t){var n=e;if(e.type==="click"){Object.defineProperty(n,"target",{writable:!0}),Object.defineProperty(n,"currentTarget",{writable:!0}),n.target=a,n.currentTarget=a;var s=a.value;a.value="",t(n),a.value=s;return}t(n)}}function A(a,e,t){var n;return h(a,(n={},d(n,"".concat(a,"-sm"),e==="small"),d(n,"".concat(a,"-lg"),e==="large"),d(n,"".concat(a,"-disabled"),t),n))}var M=$({name:"AInput",inheritAttrs:!1,props:v({},R),setup:function(){return{configProvider:W("configProvider",z),removePasswordTimeout:void 0,input:null,clearableInput:null}},data:function(){var e=this.$props,t=typeof e.value=="undefined"?e.defaultValue:e.value;return{stateValue:typeof t=="undefined"?"":t,isFocused:!1}},watch:{value:function(e){this.stateValue=e}},mounted:function(){var e=this;B(function(){e.clearPasswordValueAttribute()})},beforeUnmount:function(){this.removePasswordTimeout&&clearTimeout(this.removePasswordTimeout)},methods:{handleInputFocus:function(e){this.isFocused=!0,this.onFocus&&this.onFocus(e)},handleInputBlur:function(e){this.isFocused=!1,this.onBlur&&this.onBlur(e)},focus:function(){this.input.focus()},blur:function(){this.input.blur()},select:function(){this.input.select()},saveClearableInput:function(e){this.clearableInput=e},saveInput:function(e){this.input=e},setValue:function(e,t){this.stateValue!==e&&(F(this,"value")?this.$forceUpdate():this.stateValue=e,B(function(){t&&t()}))},triggerChange:function(e){this.$emit("update:value",e.target.value),this.$emit("change",e),this.$emit("input",e)},handleReset:function(e){var t=this;this.setValue("",function(){t.focus()}),V(this.input,e,this.triggerChange)},renderInput:function(e,t){var n=t.addonBefore,s=t.addonAfter,o=j(this.$props,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","lazy","size","inputPrefixCls","loading"]),i=this.handleKeyDown,l=this.handleChange,u=this.handleInputFocus,p=this.handleInputBlur,c=this.size,m=this.disabled,C=this.$attrs,b=v(v(v({},o),C),{onKeydown:i,class:h(A(e,c,m),d({},C.class,C.class&&!n&&!s)),ref:this.saveInput,key:"ant-input",onInput:l,onChange:l,onFocus:u,onBlur:p});b.autofocus||delete b.autofocus;var I=f("input",b,null);return O(I,[[L]])},clearPasswordValueAttribute:function(){var e=this;this.removePasswordTimeout=setTimeout(function(){e.input&&e.input.getAttribute&&e.input.getAttribute("type")==="password"&&e.input.hasAttribute("value")&&e.input.removeAttribute("value")})},handleChange:function(e){var t=e.target,n=t.value,s=t.composing,o=t.isComposing;(o||s)&&this.lazy||this.stateValue===n||(this.setValue(n,this.clearPasswordValueAttribute),V(this.input,e,this.triggerChange))},handleKeyDown:function(e){e.keyCode===13&&this.$emit("pressEnter",e),this.$emit("keydown",e)}},render:function(){var e=this.$props.prefixCls,t=this.$data,n=t.stateValue,s=t.isFocused,o=this.configProvider.getPrefixCls,i=o("input",e),l=g(this,"addonAfter"),u=g(this,"addonBefore"),p=g(this,"suffix"),c=g(this,"prefix"),m=v(v(v({},this.$attrs),_(this)),{prefixCls:i,inputType:"input",value:U(n),element:this.renderInput(i,{addonAfter:l,addonBefore:u}),handleReset:this.handleReset,addonAfter:l,addonBefore:u,suffix:p,prefix:c,isFocused:s});return f(k,x(x({},m),{},{ref:this.saveClearableInput}),null)}});export{k as C,M as I,U as f,R as i,V as r};

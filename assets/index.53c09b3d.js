import{g as t,P as e,a}from"./Content.f5575f33.js";import{d as r,t as i,i as n,l as o,E as l,G as s,v as d,j as u,w as c,n as p,B as f,F as m}from"./vendor.13fa0854.js";import{g as v,d as h,_ as g,a as x,f as y,t as b,l as j,b as _,i as C,c as w,e as A,h as D,p as k,s as F,j as P,k as T,m as O,n as I,U as S,o as M,T as N,r as R,A as z,q as E,u as G,P as B,v as L,w as H}from"./workspace.76186789.js";import{A as U}from"./index.ae0e6c96.js";import{C as V}from"./Card.4aabf5b7.js";import{P as $,d as X,x as q,G as Y,s as J,f as K,j as Q,_ as W}from"./debounce.7c4b284f.js";import"./index.7196d8c3.js";import{A as Z}from"./Avatar.43776781.js";import{L as tt}from"./index.720ea8bf.js";import{P as et}from"./tabs.b235e8bb.js";import{c as at,s as rt,a as it,S as nt}from"./Statistic.d59dcc32.js";import{i as ot}from"./initDefaultProps.037e10c6.js";import{t as lt}from"./toInteger.002511f8.js";import{w as st}from"./SearchOutlined.9b6d07cd.js";import{R as dt,C as ut}from"./index.cc37a535.js";import{B as ct}from"./button.2d27e495.js";import"./oauth.fb787a89.js";import"./index.fa6786fd.js";import"./createChainedFunction.2d5d7d53.js";import"./ExclamationCircleFilled.5fde2de7.js";import"./CloseCircleFilled.b1621eba.js";import"./LoadingOutlined.13f3bbc7.js";import"./CloseCircleOutlined.d00e7753.js";import"./InfoCircleOutlined.9aac814c.js";import"./code.aa7872b2.js";import"./index.e1194c8f.js";import"./transButton.45d23284.js";import"./_Set.dfe4feb5.js";import"./Menu.f8e3f324.js";import"./_setToArray.6911d488.js";import"./Trigger.43962c8b.js";import"./EllipsisOutlined.59e3f1df.js";import"./useSize.ea26a3f4.js";import"./index.60fdcde3.js";import"./index.609eb52b.js";import"./LeftOutlined.55549e0c.js";import"./useBreakpoint.8df4d842.js";import"./index.1bca2417.js";import"./index.61436ebc.js";import"./index.9563d230.js";import"./antInputDirective.dcf4b893.js";import"./CheckOutlined.9e2dab48.js";import"./Col.74b7851b.js";import"./_baseProperty.74f89655.js";import"./wave.b2e2f908.js";var pt=r({name:"ACardMeta",props:{prefixCls:$.string,title:$.VNodeChild,description:$.VNodeChild,avatar:$.VNodeChild},setup:function(){return{configProvider:i("configProvider",Y)}},render:function(){var t=this.$props.prefixCls,e=(0,this.configProvider.getPrefixCls)("card",t),a=X({},"".concat(e,"-meta"),!0),r=q(this,"avatar"),i=q(this,"title"),o=q(this,"description"),l=r?n("div",{class:"".concat(e,"-meta-avatar")},[r]):null,s=i?n("div",{class:"".concat(e,"-meta-title")},[i]):null,d=o?n("div",{class:"".concat(e,"-meta-description")},[o]):null,u=s||d?n("div",{class:"".concat(e,"-meta-detail")},[s,d]):null;return n("div",{class:a},[l,u])}}),ft=r({name:"ACardGrid",__ANT_CARD_GRID:!0,props:{prefixCls:$.string,hoverable:$.looseBool},setup:function(){return{configProvider:i("configProvider",Y)}},render:function(){var t,e=this.$props,a=e.prefixCls,r=e.hoverable,i=void 0===r||r,o=(0,this.configProvider.getPrefixCls)("card",a),l=(X(t={},"".concat(o,"-grid"),!0),X(t,"".concat(o,"-grid-hoverable"),i),t);return n("div",{class:l},[J(this)])}});V.Meta=pt,V.Grid=ft,V.install=function(t){return t.component(V.name,V),t.component(pt.name,pt),t.component(ft.name,ft),t};var mt=[["Y",31536e6],["M",2592e6],["D",864e5],["H",36e5],["m",6e4],["s",1e3],["S",1]];function vt(t,e){var a=t,r=/\[[^\]]*]/g,i=(e.match(r)||[]).map((function(t){return t.slice(1,-1)})),n=e.replace(r,"[]"),o=mt.reduce((function(t,e){var r=K(e,2),i=r[0],n=r[1];if(-1!==t.indexOf(i)){var o=Math.floor(a/n);return a-=o*n,t.replace(new RegExp("".concat(i,"+"),"g"),(function(t){var e=t.length;return function(t,e,a){t=st(t);var r=(e=lt(e))?rt(t):0;return e&&r<e?at(e-r,a)+t:t}(o.toString(),e,"0")}))}return t}),n),l=0;return o.replace(r,(function(){var t=i[l];return l+=1,t}))}function ht(t){return new Date(t).getTime()}var gt=r({name:"AStatisticCountdown",props:ot(it,{format:"HH:mm:ss"}),emits:["finish","change"],setup:function(t,e){var a=e.emit,r=o(),i=o(),u=function(){ht(t.value)>=Date.now()?c():p()},c=function(){if(!r.value){var e=ht(t.value);r.value=window.setInterval((function(){i.value.$forceUpdate(),e>Date.now()&&a("change",e-Date.now()),u()}),33.333333333333336)}},p=function(){var e=t.value;r.value&&(clearInterval(r.value),r.value=void 0,ht(e)<Date.now()&&a("finish"))},f=function(e){var a=e.value,r=e.config,i=t.format;return function(t,e){var a=e.format,r=void 0===a?"":a,i=new Date(t).getTime(),n=Date.now();return vt(Math.max(i-n,0),r)}(a,W(W({},r),{format:i}))},m=function(t){return t};return l((function(){u()})),s((function(){u()})),d((function(){p()})),function(){return n(nt,Q({ref:i},W(W({},t),{valueRender:m,formatter:f})),null)}}});nt.Countdown=gt,nt.install=function(t){return t.component(nt.name,nt),t.component(nt.Countdown.name,nt.Countdown),t},nt.Countdown;var xt=r({setup:(e,{slots:a})=>()=>n("div",{class:"av-header-wrap"},[n("div",{class:"av-header-wrap-content"},[t(a,"content")]),n("div",{class:"av-header-wrap-extra"},[u(" "),t(a,"extra")])])});var yt="_page-header-content_rv028_1",bt="_avatar_rv028_4",jt="_content_rv028_13",_t="_content-title_rv028_21",Ct="_extra-content_rv028_28",wt="_stat-item_rv028_44",At="_project-list_rv028_80",Dt="_card-title_rv028_80",kt="_card-description_rv028_95",Ft="_project-item_rv028_101",Pt="_datetime_rv028_117",Tt="_item-group_rv028_128",Ot="_members_rv028_139",It="_member_rv028_139",St="_project-card-grid_rv028_158",Mt="_welcome-text_rv028_166";function Nt(t){var e=t.chart,a=t.options,r=a.data,i=a.lineStyle,n=a.color,o=a.point,l=a.area;e.data(r);var s=h({},t,{options:{line:{style:i,color:n},point:o?g({color:n},o):o,area:l?g({color:n},l):l,label:void 0}}),d=h({},s,{options:{tooltip:!1}}),u=(null==o?void 0:o.state)||a.state,c=h({},s,{options:{tooltip:!1,state:u}});return D(s),k(c),function(t){var e=t.options,a=e.area,r=e.xField,i=e.yField,n=e.seriesField,o=e.smooth,l=e.tooltip,s=x(l,[r,i,n]),d=s.fields,u=s.formatter;a&&v(h({},t,{options:{type:"area",colorField:n,tooltipFields:d,mapping:g({shape:o?"smooth":"area",tooltip:u},a)}}))}(d),t}function Rt(t){var e,a=t.options,r=a.xAxis,i=a.yAxis,n=a.xField,o=a.yField;return y(F(((e={})[n]=r,e[o]=i,e)))(t)}function zt(t){var e=t.chart,a=t.options,r=a.radius,i=a.startAngle,n=a.endAngle;return e.coordinate("polar",{radius:r,startAngle:i,endAngle:n}),t}function Et(t){var e=t.chart,a=t.options,r=a.xField,i=a.xAxis,n=a.yField,o=a.yAxis;return e.axis(r,i),e.axis(n,o),t}function Gt(t){var e=t.chart,a=t.options,r=a.label,i=a.yField,n=P(e,"line");if(r){var o=r.callback,l=T(r,["callback"]);n.label({fields:[i],callback:o,cfg:O(l)})}else n.label(!1);return t}function Bt(t){return y(Nt,Rt,b,zt,Et,j,_,Gt,C,w,A())(t)}R("radar-tooltip",function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return I(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"radar-tooltip"},enumerable:!1,configurable:!0}),e.prototype.getTooltipItems=function(e){var a=this.getTooltipCfg(),r=a.shared,i=a.title,n=t.prototype.getTooltipItems.call(this,e);if(n.length>0){var o=this.view.geometries[0],l=o.dataArray,s=n[0].name,d=[];return l.forEach((function(t){t.forEach((function(t){var e=S.getTooltipItems(t,o)[0];if(!r&&e&&e.name===s){var a=M(i)?s:i;d.push(g(g({},e),{name:e.title,title:a}))}else if(r&&e){a=M(i)?e.name||s:i;d.push(g(g({},e),{name:e.title,title:a}))}}))})),d}return[]},e}(N)),E("radar-tooltip",function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return I(e,t),e.prototype.init=function(){this.context.view.removeInteraction("tooltip")},e.prototype.show=function(){var t=this.context.event;this.getTooltipController().showTooltip({x:t.x,y:t.y})},e.prototype.hide=function(){this.getTooltipController().hideTooltip()},e.prototype.getTooltipController=function(){return this.context.view.getController("radar-tooltip")},e}(z)),G("radar-tooltip",{start:[{trigger:"plot:mousemove",action:"radar-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"radar-tooltip:hide"}]});var Lt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="radar",e}return I(e,t),e.prototype.changeData=function(t){this.updateOption({data:t}),this.chart.changeData(t)},e.prototype.getDefaultOptions=function(){return h({},t.prototype.getDefaultOptions.call(this),{xAxis:{label:{offset:15},grid:{line:{type:"line"}}},yAxis:{grid:{line:{type:"circle"}}},legend:{position:"top"},tooltip:{shared:!0,showCrosshairs:!0,showMarkers:!0,crosshairs:{type:"xy",line:{style:{stroke:"#565656",lineDash:[4]}},follow:!0}}})},e.prototype.getSchemaAdaptor=function(){return Bt},e}(B),Ht=r({props:{data:{type:Array,default:()=>[]}},setup(t){let e;const a={data:t.data,xField:"item",yField:"score",seriesField:"user",meta:{score:{alias:"分数",min:0,max:80}},xAxis:{line:null,tickLine:null,grid:{line:{style:{lineDash:null}}}},yAxis:{line:null,tickLine:null,grid:{line:{type:"line",style:{lineDash:null}}}},point:{size:2}};return l((()=>{e=new Lt("radarContainer",a),e.render()})),c(t.data,(t=>{e.changeData(t)})),()=>n("div",{id:"radarContainer"},null)}});function Ut(t){return"function"==typeof t||"[object Object]"===Object.prototype.toString.call(t)&&!f(t)}var Vt=r({setup(){const t=o(!1),r=o(!1),i=o([]),s=o([]),d=o([]),c=p({avatar:"",name:""}),f=o([]),v=o({projectNum:0,teamRank:0,visitNum:0}),h=()=>n("div",{class:yt},[n("div",{class:bt},[n(Z,{size:"large",src:c.avatar},null)]),n("div",{class:jt},[n("div",{class:_t},[u("早安，"),c.name,n("span",{class:Mt},[u("，今天又是搬砖的一天")])]),n("div",null,[u("全栈工程师 | 板砖技术部 - 某某某事业群 - 前端平台")])])]),g=()=>n("div",{class:Ct},[n("div",{class:wt},[n(nt,{title:"项目数",value:v.value.projectNum},null)]),n("div",{class:wt},[n(nt,{title:"团队内排名",value:v.value.teamRank,suffix:"/ 24"},null)]),n("div",{class:wt},[n(nt,{title:"项目访问",value:v.value.visitNum},null)])]);return l((()=>{(async()=>{const{currentUser:t,projects:e,activities:a,teams:r,statistic:n}=await L();c.avatar=t.avatar,c.name=t.name,i.value.push(...e),s.value.push(...a),d.value.push(...r),v.value=n;const o=await H();f.value.splice(0,f.value.length,...o)})()})),()=>{let o,l;return n(m,null,[n(e,null,{default:()=>[n(U,{title:"工作台"},{default:()=>[n(xt,null,{content:h,extra:g})]})]}),n(a,null,{default:()=>[n(dt,{gutter:24},{default:()=>[n(ut,{xl:16,lg:24,md:24,sm:24,xs:24},{default:()=>[n(V,{class:At,loading:t.value,style:"margin-bottom: 22px;",bordered:!1,title:"所有项目","body-style":{padding:0},extra:n("a",null,[u("其他")])},{default:()=>[n("div",null,[i.value.map((t=>n(V.Grid,{class:St,key:t.id},{default:()=>[n(V,{bordered:!1,"body-style":{padding:0}},{default:()=>[n(V.Meta,null,{title:()=>n("div",{class:Dt},[n(Z,{size:"small",src:t.cover},null),n("a",null,[t.title])]),description:()=>n("div",{class:kt},[t.description])}),n("div",{class:Ft},[n("a",{href:"/#/"},[u("科学搬砖组")]),n("span",{class:Pt},[u("9小时前")])])]})]})))])]}),n(V,{loading:t.value,title:"动态",bordered:!1},{default:()=>[n(tt,null,Ut(o=s.value.map((t=>n(tt.Item,{key:t.id},{default:()=>[n(tt.Item.Meta,{avatar:n(Z,{src:t.avatar},null)},{title:()=>n("div",null,[n("span",null,[t.nickname]),u("  在 "),n("a",{href:"#"},[t.project]),u(" "),n("span",null,[t.action]),u(" "),n("a",{href:"#"},[t.event])]),description:()=>n("div",null,[t.time])})]}))))?o:{default:()=>[o]})]})]}),n(ut,{style:"padding: 0 12px",xl:8,lg:24,md:24,sm:24,xs:24},{default:()=>[n(V,{title:"快速开始 / 便捷导航",style:"margin-bottom: 24px",bordered:!1,"body-style":{padding:0}},{default:()=>[n("div",{class:Tt},[n("a",null,[u("操作一")]),n("a",null,[u("操作二")]),n("a",null,[u("操作三")]),n("a",null,[u("操作四")]),n("a",null,[u("操作五")]),n("a",null,[u("操作六")]),n(ct,{size:"small",type:"primary",ghost:!0,icon:n(et,null,null)},{default:()=>[u("添加")]})])]}),n(V,{title:"XX 指数",style:"margin-bottom: 24px",loading:r.value,bordered:!1,"body-style":{padding:0}},{default:()=>[n("div",{style:"min-height: 400px;"},[n(Ht,{data:f.value},null)])]}),n(V,{loading:t.value,title:"团队",bordered:!1},{default:()=>[n("div",{class:Ot},[n(dt,null,Ut(l=d.value.map((t=>n(ut,{key:t.id,span:12},{default:()=>[n("a",null,[n(Z,{size:"small",src:t.avatar},null),n("span",{class:It},[t.name])])]}))))?l:{default:()=>[l]})])]})]})]})]})])}}});export{Vt as default};

import{s as e,P as a,z as t,j as n,h as l,_ as o,e as i,a8 as r,a7 as u,t as c,m as s,a as v,o as d,l as m,O as f}from"./debounce.53224f53.js";import{p,P as g,S as y}from"./index.e44e5c57.js";import{C as h,A as x}from"./Col.d7314daf.js";import{u as b}from"./useBreakpoint.69150a26.js";import{d as S,i as I,k as O,p as j,v as z,a2 as C,s as L,x as w}from"./vendor.6f72d5fc.js";import{i as M}from"./initDefaultProps.e3db526a.js";var k=S({name:"AListItemMeta",props:{avatar:a.any,description:a.any,prefixCls:a.string,title:a.any},displayName:"AListItemMeta",__ANT_LIST_ITEM_META:!0,slots:["avatar","description","title"],setup:function(a,t){var n=t.slots,l=e("list",a).prefixCls;return function(){var e,t,o,i,r,u,c="".concat(l.value,"-item-meta"),s=null!==(e=a.title)&&void 0!==e?e:null===(t=n.title)||void 0===t?void 0:t.call(n),v=null!==(o=a.description)&&void 0!==o?o:null===(i=n.description)||void 0===i?void 0:i.call(n),d=null!==(r=a.avatar)&&void 0!==r?r:null===(u=n.avatar)||void 0===u?void 0:u.call(n),m=I("div",{class:"".concat(l.value,"-item-meta-content")},[s&&I("h4",{class:"".concat(l.value,"-item-meta-title")},[s]),v&&I("div",{class:"".concat(l.value,"-item-meta-description")},[v])]);return I("div",{class:c},[d&&I("div",{class:"".concat(l.value,"-item-meta-avatar")},[d]),(s||v)&&m])}}}),A=Symbol("ListContextKey"),P=S({name:"AListItem",inheritAttrs:!1,Meta:k,props:{prefixCls:a.string,extra:a.any,actions:a.array,grid:a.any,colStyle:a.style},slots:["actions","extra"],setup:function(a,c){var s=c.slots,v=c.attrs,d=O(A,{grid:j(),itemLayout:j()}),m=d.itemLayout,f=d.grid,p=e("list",a).prefixCls,g=function(){var e,t,n=null!==(e=a.extra)&&void 0!==e?e:null===(t=s.extra)||void 0===t?void 0:t.call(s);return"vertical"===m.value?!!n:!function(){var e,a,t=(null===(e=s.default)||void 0===e?void 0:e.call(s))||[];return t.forEach((function(e){r(e)&&!u(e)&&(a=!0)})),a&&t.length>1}()};return function(){var e,r,u,c,d,y=v.class,x=function(e,a){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)a.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(t[n[l]]=e[n[l]])}return t}(v,["class"]),b=p.value,S=null!==(e=a.extra)&&void 0!==e?e:null===(r=s.extra)||void 0===r?void 0:r.call(s),O=null===(u=s.default)||void 0===u?void 0:u.call(s),j=null!==(c=a.actions)&&void 0!==c?c:t(null===(d=s.actions)||void 0===d?void 0:d.call(s)),z=(j=j&&!Array.isArray(j)?[j]:j)&&j.length>0&&I("ul",{class:"".concat(b,"-item-action"),key:"actions"},[j.map((function(e,a){return I("li",{key:"".concat(b,"-item-action-").concat(a)},[e,a!==j.length-1&&I("em",{class:"".concat(b,"-item-action-split")},null)])}))]),C=f.value?"div":"li",L=I(C,n(n({},x),{},{class:l("".concat(b,"-item"),o({},"".concat(b,"-item-no-flex"),!g()),y)}),{default:function(){return["vertical"===m.value&&S?[I("div",{class:"".concat(b,"-item-main"),key:"content"},[O,z]),I("div",{class:"".concat(b,"-item-extra"),key:"extra"},[S])]:[O,z,i(S,{key:"extra"})]]}});return f.value?I(h,{flex:1,style:a.colStyle},{default:function(){return[L]}}):L}}}),T={gutter:a.number,column:a.number,xs:a.number,sm:a.number,md:a.number,lg:a.number,xl:a.number,xxl:a.number},K=c("small","default","large"),_=S({name:"AList",Item:P,props:M({bordered:a.looseBool,dataSource:a.array,extra:a.any,grid:a.shape(T).loose,itemLayout:a.oneOf(c("horizontal","vertical")),loading:s(a.oneOfType([a.looseBool,a.object])),loadMore:a.any,pagination:s(a.oneOfType([a.shape(p()).loose,a.looseBool])),prefixCls:a.string,rowKey:a.any,renderItem:a.any,size:a.oneOf(K),split:a.looseBool,header:a.any,footer:a.any,locale:{type:Object}},{dataSource:[],bordered:!1,split:!0,loading:!1,pagination:!1}),slots:["extra","loadMore","renderItem","header","footer"],setup:function(a,l){var i,r,u=l.slots;z(A,{grid:C(a,"grid"),itemLayout:C(a,"itemLayout")});var c={current:1,total:0},s=e("list",a),p=s.prefixCls,h=s.direction,S=s.renderEmpty,O=L((function(){return a.pagination&&"object"===d(a.pagination)?a.pagination:{}})),M=j(null!==(i=O.value.defaultCurrent)&&void 0!==i?i:1),k=j(null!==(r=O.value.defaultPageSize)&&void 0!==r?r:10);w(O,(function(){"current"in O.value&&(M.value=O.value.current),"pageSize"in O.value&&(k.value=O.value.pageSize)}));var P=function(e){return function(a,t){M.value=a,k.value=t,O.value[e]&&O.value[e](a,t)}},T=P("onChange"),K=P("onShowSizeChange"),_=L((function(){return"boolean"==typeof a.loading?{spinning:a.loading}:a.loading})),B=L((function(){return _.value&&_.value.spinning})),E=L((function(){var e="";switch(a.size){case"large":e="lg";break;case"small":e="sm"}return e})),N=L((function(){var e;return o(e={},"".concat(p.value),!0),o(e,"".concat(p.value,"-vertical"),"vertical"===a.itemLayout),o(e,"".concat(p.value,"-").concat(E.value),E.value),o(e,"".concat(p.value,"-split"),a.split),o(e,"".concat(p.value,"-bordered"),a.bordered),o(e,"".concat(p.value,"-loading"),B.value),o(e,"".concat(p.value,"-grid"),!!a.grid),o(e,"".concat(p.value,"-rtl"),"rtl"===h.value),e})),D=L((function(){var e=v(v(v({},c),{total:a.dataSource.length,current:M.value,pageSize:k.value}),a.pagination||{}),t=Math.ceil(e.total/e.pageSize);return e.current>t&&(e.current=t),e})),H=L((function(){var e=m(a.dataSource);return a.pagination&&a.dataSource.length>(D.value.current-1)*D.value.pageSize&&(e=m(a.dataSource).splice((D.value.current-1)*D.value.pageSize,D.value.pageSize)),e})),W=b(),q=L((function(){for(var e=0;e<f.length;e+=1){var a=f[e];if(W.value[a])return a}})),F=L((function(){if(a.grid){var e=q.value&&a.grid[q.value]?a.grid[q.value]:a.grid.column;return e?{width:"".concat(100/e,"%"),maxWidth:"".concat(100/e,"%")}:void 0}}));return function(){var e,l,i,r,c,s,d,m=null!==(e=a.loadMore)&&void 0!==e?e:null===(l=u.loadMore)||void 0===l?void 0:l.call(u),f=null!==(i=a.footer)&&void 0!==i?i:null===(r=u.footer)||void 0===r?void 0:r.call(u),h=null!==(c=a.header)&&void 0!==c?c:null===(s=u.header)||void 0===s?void 0:s.call(u),b=t(null===(d=u.default)||void 0===d?void 0:d.call(u)),O=[],j=!!(m||a.pagination||f),z=v(v({},N.value),o({},"".concat(p.value,"-something-after-last-item"),j)),C=a.pagination?I("div",{class:"".concat(p.value,"-pagination")},[I(g,n(n({},D.value),{},{onChange:T,onShowSizeChange:K}),null)]):null,L=B.value&&I("div",{style:{minHeight:"53px"}},null);if(H.value.length>0){var w=H.value.map((function(e,t){return function(e,t,n){var l,o,i=null!==(l=a.renderItem)&&void 0!==l?l:u.renderItem;return i?((o="function"==typeof a.rowKey?a.rowKey(t):"string"==typeof a.rowKey?t[a.rowKey]:t.key)||(o="list-item-".concat(n)),e[n]=o,i({item:t,index:n})):null}(O,e,t)})),M=w.map((function(e,a){return I("div",{key:O[a],style:F.value},[e])}));L=a.grid?I(x,{gutter:a.grid.gutter},{default:function(){return[M]}}):I("ul",{class:"".concat(p.value,"-items")},[w])}else b.length||B.value||(L=function(e){var t;return I("div",{class:"".concat(p.value,"-empty-text")},[(null===(t=a.locale)||void 0===t?void 0:t.emptyText)||e("List")])}(S.value));var k=D.value.position||"bottom";return I("div",{class:z},[("top"===k||"both"===k)&&C,h&&I("div",{class:"".concat(p.value,"-header")},[h]),I(y,_.value,{default:function(){return[L,b]}}),f&&I("div",{class:"".concat(p.value,"-footer")},[f]),m||("bottom"===k||"both"===k)&&C])}}});_.install=function(e){return e.component(_.name,_),e.component(_.Item.name,_.Item),e.component(_.Item.Meta.name,_.Item.Meta),e};export{_ as L};

import{d as t,s as n,i as e,w as r,v as o}from"./vendor.d7feebf9.js";import{B as s,c as i,p as a,P as u,d as c,t as l,N as f,e as p,f as d,a as h,T as m}from"./toNumber.5775a339.js";import{o as b}from"./index.9563d230.js";import{i as y}from"./isNumeric.2bec345d.js";import{P as g}from"./colors.ce005b5d.js";function v(){return(v=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t}).apply(this,arguments)}function C(t){return t?t.toString().split("").reverse().map((function(t){var n=Number(t);return isNaN(n)?t:n})):[]}var S=t({name:"ScrollNumber",mixins:[s],inheritAttrs:!1,props:{prefixCls:u.string,count:u.any,component:u.string,title:u.oneOfType([u.number,u.string,null]),displayComponent:u.any,onAnimated:u.func},emits:["animated"],setup:function(){return{configProvider:n("configProvider",c),lastCount:void 0,timeout:void 0}},data:function(){return{animateStarted:!0,sCount:this.count}},watch:{count:function(){this.lastCount=this.sCount,this.setState({animateStarted:!0})}},updated:function(){var t=this,n=this.animateStarted,e=this.count;n&&(this.clearTimeout(),this.timeout=setTimeout((function(){t.setState({animateStarted:!1,sCount:e},t.handleAnimated)})))},beforeUnmount:function(){this.clearTimeout()},methods:{clearTimeout:function(t){function n(){return t.apply(this,arguments)}return n.toString=function(){return t.toString()},n}((function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=void 0)})),getPositionByNum:function(t,n){var e=this.sCount,r=Math.abs(Number(e)),o=Math.abs(Number(this.lastCount)),s=Math.abs(C(e)[n]),i=Math.abs(C(this.lastCount)[n]);return this.animateStarted?10+t:r>o?s>=i?10+t:20+t:s<=i?10+t:t},handleAnimated:function(){this.$emit("animated")},renderNumberList:function(t,n){for(var r=[],o=0;o<30;o++)r.push(e("p",{key:o.toString(),class:i(n,{current:t===o})},[o%10]));return r},renderCurrentNumber:function(t,n,r){if("number"==typeof n){var o=this.getPositionByNum(n,r),s={transition:this.animateStarted||void 0===C(this.lastCount)[r]?"none":void 0,msTransform:"translateY(".concat(100*-o,"%)"),WebkitTransform:"translateY(".concat(100*-o,"%)"),transform:"translateY(".concat(100*-o,"%)")};return e("span",{class:"".concat(t,"-only"),style:s,key:r},[this.renderNumberList(o,"".concat(t,"-only-unit"))])}return e("span",{key:"symbol",class:"".concat(t,"-symbol")},[n])},renderNumberElement:function(t){var n=this,e=this.sCount;return e&&Number(e)%1==0?C(e).map((function(e,r){return n.renderCurrentNumber(t,e,r)})).reverse():e}},render:function(){var t=this,n=this.prefixCls,r=this.title,o=this.component,s=void 0===o?"sup":o,u=this.displayComponent,c=(0,this.configProvider.getPrefixCls)("scroll-number",n),l=this.$attrs,f=l.class,p=l.style,d=void 0===p?{}:p;if(u)return a(u,{class:i("".concat(c,"-custom-component"),u.props&&u.props.class)});var h=b(v(v({},this.$props),this.$attrs),["count","onAnimated","component","prefixCls","displayComponent"]),m=v({},d),y=v(v({},h),{title:r,style:m,class:i(c,f)});return d&&d.borderColor&&(y.style.boxShadow="0 0 0 1px ".concat(d.borderColor," inset")),e(s,y,{default:function(){return[t.renderNumberElement(c)]}})}});function N(t){return-1!==g.indexOf(t)}function x(){return(x=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t}).apply(this,arguments)}function O(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var P=function(t,r){var o,s,i,a=r.attrs,u=r.slots,l=t.prefixCls,f=t.color,p=t.text,d=void 0===p?null===(s=u.text)||void 0===s?void 0:s.call(u):p,h=t.placement,m=void 0===h?"end":h,b=a.class,y=a.style,g=null===(i=u.default)||void 0===i?void 0:i.call(u),v=n("configProvider",c),C=v.getPrefixCls,S=v.direction,P=C("ribbon",l),w=N(f),T=[P,"".concat(P,"-placement-").concat(m),(o={},O(o,"".concat(P,"-rtl"),"rtl"===S),O(o,"".concat(P,"-color-").concat(f),w),o),b],j={},B={};return f&&!w&&(j.background=f,B.color=f),e("div",{class:"".concat(P,"-wrapper")},[g,e("div",{class:T,style:x(x({},j),y)},[e("span",{class:"".concat(P,"-text")},[d]),e("div",{class:"".concat(P,"-corner"),style:B},null)])])};function w(t){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function T(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function j(){return(j=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t}).apply(this,arguments)}P.displayName="ABadgeRibbon",P.inheritAttrs=!1,P.props={prefix:u.string,color:u.string,text:u.any,placement:u.oneOf(l("start","end"))};var B=t({name:"ABadge",Ribbon:P,props:f({count:u.VNodeChild,showZero:u.looseBool,overflowCount:u.number,dot:u.looseBool,prefixCls:u.string,scrollNumberPrefixCls:u.string,status:u.oneOf(l("success","processing","default","error","warning")),color:u.string,text:u.VNodeChild,offset:u.arrayOf(u.oneOfType([String,Number])),numberStyle:u.style,title:u.string},{showZero:!1,dot:!1,overflowCount:99}),setup:function(){return{configProvider:n("configProvider",c),badgeCount:void 0}},methods:{getNumberedDispayCount:function(){var t=this.$props.overflowCount,n=this.badgeCount;return n>t?"".concat(t,"+"):n},getDispayCount:function(){return this.isDot()?"":this.getNumberedDispayCount()},getScrollNumberTitle:function(){var t=this.$props.title,n=this.badgeCount;return t||("string"==typeof n||"number"==typeof n?n:void 0)},getStyleWithOffset:function(){var t=this.$props,n=t.offset,e=t.numberStyle;return j(n?{right:"".concat(-parseInt(n[0],10),"px"),marginTop:y(n[1])?"".concat(n[1],"px"):n[1]}:{},e)},getBadgeClassName:function(t,n){var e,r=this.hasStatus();return i(t,(T(e={},"".concat(t,"-status"),r),T(e,"".concat(t,"-dot-status"),r&&this.dot&&!this.isZero()),T(e,"".concat(t,"-not-a-wrapper"),!n.length),e))},hasStatus:function(){var t=this.$props,n=t.status,e=t.color;return!!n||!!e},isZero:function(){var t=this.getNumberedDispayCount();return"0"===t||0===t},isDot:function(){var t=this.$props.dot,n=this.isZero();return t&&!n||this.hasStatus()},isHidden:function(){var t=this.$props.showZero,n=this.getDispayCount(),e=this.isZero(),r=this.isDot();return(null==n||""===n||e&&!t)&&!r},renderStatusText:function(t){var n=p(this,"text");return this.isHidden()||!n?null:e("span",{class:"".concat(t,"-status-text")},[n])},renderDispayComponent:function(){var t=this.badgeCount;if(t&&"object"===w(t))return a(t,{style:this.getStyleWithOffset()},!1)},renderBadgeNumber:function(t,n){var s,i=this.$props,a=i.status,u=i.color,c=this.badgeCount,l=this.getDispayCount(),f=this.isDot(),p=this.isHidden(),d=(T(s={},"".concat(t,"-dot"),f),T(s,"".concat(t,"-count"),!f),T(s,"".concat(t,"-multiple-words"),!f&&c&&c.toString&&c.toString().length>1),T(s,"".concat(t,"-status-").concat(a),!!a),T(s,"".concat(t,"-status-").concat(u),N(u)),s),h=this.getStyleWithOffset();return u&&!N(u)&&((h=h||{}).background=u),p?null:r(e(S,{prefixCls:n,"data-show":!p,class:d,count:l,displayComponent:this.renderDispayComponent(),title:this.getScrollNumberTitle(),style:h,key:"scrollNumber"},null),[[o,!p]])}},render:function(){var t,n=this.prefixCls,r=this.scrollNumberPrefixCls,o=this.status,s=this.color,a=p(this,"text"),u=this.configProvider.getPrefixCls,c=u("badge",n),l=u("scroll-number",r),f=d(this),b=p(this,"count");Array.isArray(b)&&(b=b[0]),this.badgeCount=b;var y=this.renderBadgeNumber(c,l),g=this.renderStatusText(c),v=i((T(t={},"".concat(c,"-status-dot"),this.hasStatus()),T(t,"".concat(c,"-status-").concat(o),!!o),T(t,"".concat(c,"-status-").concat(s),N(s)),t)),C={};if(s&&!N(s)&&(C.background=s),!f.length&&this.hasStatus()){var S=this.getStyleWithOffset(),x=S&&S.color;return e("span",{class:this.getBadgeClassName(c,f),style:S},[e("span",{class:v,style:C},null),e("span",{style:{color:x},class:"".concat(c,"-status-text")},[a])])}var O=h(f.length?"".concat(c,"-zoom"):"");return e("span",{class:this.getBadgeClassName(c,f)},[f,e(m,O,{default:function(){return[y]}}),g])}});B.install=function(t){return t.component(B.name,B),t.component(B.Ribbon.displayName,B.Ribbon),t};export{B};
